import{a as G}from"./chunk-OGQQ44XV.js";import{a as D}from"./chunk-22XSY4EJ.js";import"./chunk-AZJWBWL5.js";import{a as N}from"./chunk-55FSNNZ2.js";import"./chunk-6M6LJACB.js";import{a as M,c as k,e as j,o as B}from"./chunk-B2HCO65P.js";import{a as T}from"./chunk-BPTFILPP.js";import{b as V}from"./chunk-5N72VQB2.js";import{a as P}from"./chunk-VSPTT5AX.js";import{c as y,d as F,e as z,g as A,v as I}from"./chunk-BJBUZF5B.js";import{$a as s,Bb as S,Db as E,Ra as m,Sa as p,ba as b,cb as h,ga as u,gb as n,ha as f,hb as e,ia as x,ib as v,ja as _,lb as C,pb as g,qb as c,ub as i}from"./chunk-GQGQXF3A.js";function L(r,a){r&1&&(n(0,"div",24),i(1," di "),e())}function O(r,a){r&1&&(n(0,"div",25),i(1," Pr "),e())}function H(r,a){r&1&&(n(0,"div",26),i(1," Pe "),e())}function Z(r,a){r&1&&(n(0,"div",27),i(1," df "),e())}function q(r,a){if(r&1&&(n(0,"div",19),h(1,L,2,0,"div",20)(2,O,2,0,"div",21)(3,H,2,0,"div",22)(4,Z,2,0,"div",23),e()),r&2){let l=a.$implicit;m(),s("ngIf",l==="di"),m(),s("ngIf",l==="Pr"),m(),s("ngIf",l==="Pe"),m(),s("ngIf",l==="df")}}var $=r=>({"font-semibold":r});function J(r,a){if(r&1){let l=C();n(0,"div",28)(1,"div",29)(2,"input",30),g("keyup.enter",function(){u(l);let t=c();return f(t.actualizarFormato())})("ngModelChange",function(t){u(l);let d=c();return f(d.nuevoFormato=t)}),e(),n(3,"button",31),g("click",function(){u(l);let t=c();return f(t.showModalAyuda=!0)}),x(),n(4,"svg",32),v(5,"path",33),e()()(),_(),n(6,"button",34),g("click",function(){u(l);let t=c();return f(t.actualizarFormato())}),i(7," Actualizar formato "),e()()}if(r&2){let l=c();m(2),s("ngClass",E(2,$,l.nuevoFormato.length>0))("ngModel",l.nuevoFormato)}}var de=(()=>{let a=class a{constructor(o,t,d,w){this.dataService=o,this.authService=t,this.alertService=d,this.configGeneralesService=w,this.permiso_escritura=["BALANZA_ALL"],this.showModalAyuda=!1,this.arregloFormato=[],this.nuevoFormato="",this.formatoActual=null}ngOnInit(){this.dataService.ubicacionActual="Dashboard - Condifuraci\xF3n de balanza",T.from(".gsap-contenido",{y:100,opacity:0,duration:.2}),this.obtenerCodigo()}generacionFormato(o){this.arregloFormato=[];for(let t=0;t<o.length;t++)o[t]=="i"?this.arregloFormato.push("di"):o[t]=="i"?this.arregloFormato.push("di"):o[t]=="p"?this.arregloFormato.push("Pr"):o[t]=="e"?this.arregloFormato.push("Pe"):o[t]=="f"&&this.arregloFormato.push("df")}obtenerCodigo(){this.alertService.loading(),this.configGeneralesService.listarConfigGenerales({}).subscribe({next:({configGeneral:o})=>{this.formatoActual=o[0],this.generacionFormato(o[0].formatoBalanza),this.alertService.close()},error:({error:o})=>this.alertService.errorApi(o.message)})}actualizarFormato(){if(this.nuevoFormato.trim()===""){this.alertService.info("El formato no puede estar vacio");return}if(this.verificacionCodigo()){this.alertService.info("El formato de c\xF3digo no es valido");return}this.alertService.question({msg:"Actualizando formato de balanza",buttonText:"Actualizar"}).then(({isConfirmed:o})=>{o&&(this.alertService.loading(),this.configGeneralesService.actualizarConfigGeneral(this.formatoActual.id,{formatoBalanza:this.nuevoFormato}).subscribe({next:({configBalanza:t})=>{this.nuevoFormato="",this.formatoActual=t,this.generacionFormato(t.formato),this.dataService.obtenerConfigGenerales(),this.alertService.close()},error:({error:t})=>this.alertService.errorApi(t.message)}))})}verificacionCodigo(){let o=!1;for(let t=0;t<this.nuevoFormato.length;t++)if(this.nuevoFormato[t]!=="i"&&this.nuevoFormato[t]!=="p"&&this.nuevoFormato[t]!=="e"&&this.nuevoFormato[t]!=="f"){o=!0;break}return o}};a.\u0275fac=function(t){return new(t||a)(p(V),p(D),p(I),p(P))},a.\u0275cmp=b({type:a,selectors:[["app-configBalanza"]],standalone:!0,features:[S],decls:66,vars:3,consts:[[3,"showModal"],[1,"flex","items-center","justify-between","bg-gray-800","rounded-t","p-2"],[1,"text-white","px-2","py-1","rounded-t","text-lg"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"cursor-pointer","feather","feather-x","text-white","mr-2",3,"click"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"px-4","text-sm","mt-3"],[1,"mt-2"],[1,"mt-1"],[1,"text-sm","px-4","mt-2"],[1,"mt-2","mb-3"],[1,"font-semibold"],[1,"flex","items-center","gsap-contenido","justify-center","mt-10"],[1,"mx-auto","w-full","text-center"],[1,"text-3xl","font-bold","text-center"],["src","assets/svg/balanza.svg","alt","balanza.svg",1,"w-56","mt-4","mx-auto"],[1,"flex","items-center","text-xs","md:text-sm","w-11/12","justify-center","mx-auto","mt-5","overflow-x-auto"],["class","ml-2",4,"ngFor","ngForOf"],["class","text-sm w-11/12 md:w-1/3 mx-auto",4,"appPermisos"],[1,"ml-2"],["class","w-10 border border-white rounded shadow bg-blue-400 flex items-center justify-center h-10",4,"ngIf"],["class","w-10 border border-white rounded shadow bg-yellow-400 flex items-center justify-center h-10",4,"ngIf"],["class","w-10 border border-white rounded shadow bg-green-400 flex items-center justify-center h-10",4,"ngIf"],["class","w-10 border border-white rounded shadow bg-red-400 flex items-center justify-center h-10",4,"ngIf"],[1,"w-10","border","border-white","rounded","shadow","bg-blue-400","flex","items-center","justify-center","h-10"],[1,"w-10","border","border-white","rounded","shadow","bg-yellow-400","flex","items-center","justify-center","h-10"],[1,"w-10","border","border-white","rounded","shadow","bg-green-400","flex","items-center","justify-center","h-10"],[1,"w-10","border","border-white","rounded","shadow","bg-red-400","flex","items-center","justify-center","h-10"],[1,"text-sm","w-11/12","md:w-1/3","mx-auto"],[1,"flex","items-center","mt-4"],["type","text","placeholder","Formato de codigo de balanza",1,"md:text-xl","input-generico","w-full",3,"ngClass","ngModel","keyup.enter","ngModelChange"],["title","Ayuda",1,"p-2","border","cursor-help","hover:text-secondaryColor","border-gray-400","bg-gray-100","rounded","ml-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"],[1,"boton-editar","w-full","mt-4",3,"click"]],template:function(t,d){t&1&&(n(0,"app-modal",0)(1,"div")(2,"div",1)(3,"h1",2),i(4," Configuraci\xF3n de balanza "),e(),x(),n(5,"svg",3),g("click",function(){return d.showModalAyuda=!1}),v(6,"line",4)(7,"line",5),e()(),_(),n(8,"div")(9,"div",6)(10,"div")(11,"p"),i(12," El formato de c\xF3digo de balanza es el formato que se utiliza para leer el c\xF3digo de barras de la balanza "),e()(),n(13,"div",7)(14,"strong"),i(15," Tipos de digitos: "),e(),n(16,"p",8)(17,"strong"),i(18,"di"),e(),i(19," - D\xEDgitos de iniciales "),e(),n(20,"p")(21,"strong"),i(22,"Pr"),e(),i(23," - D\xEDgitos de c\xF3digo de producto "),e(),n(24,"p")(25,"strong"),i(26,"Pe"),e(),i(27," - Dig\xEDtos de peso "),e(),n(28,"p")(29,"strong"),i(30,"df"),e(),i(31," - D\xEDgitos de finalizacion "),e()()(),n(32,"div",9)(33,"strong"),i(34," Actualizaci\xF3n de formato: "),e(),n(35,"p"),i(36," Para actualizar el formato se utiliza un string con expresiones reducidas "),e(),n(37,"div")(38,"p",8)(39,"strong"),i(40,"i"),e(),i(41," - D\xEDgitos de iniciales "),e(),n(42,"p")(43,"strong"),i(44,"p"),e(),i(45," - D\xEDgitos de c\xF3digo de producto "),e(),n(46,"p")(47,"strong"),i(48,"e"),e(),i(49," - Dig\xEDtos de peso "),e(),n(50,"p")(51,"strong"),i(52,"f"),e(),i(53," - D\xEDgitos de finalizacion "),e()(),n(54,"p",10)(55,"span",11),i(56," Ejemplo: "),e(),i(57," iipppppeeeeef "),e()()()()(),n(58,"div",12)(59,"div",13)(60,"h1",14),i(61,"Configuraci\xF3n de balanza"),e(),v(62,"img",15),n(63,"div",16),h(64,q,5,4,"div",17),e(),h(65,J,8,4,"div",18),e()()),t&2&&(s("showModal",d.showModalAyuda),m(64),s("ngForOf",d.arregloFormato),m(),s("appPermisos",d.permiso_escritura))},dependencies:[A,y,F,z,B,M,k,j,N,G],encapsulation:2});let r=a;return r})();export{de as default};
