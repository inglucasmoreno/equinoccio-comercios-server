import{a as J}from"./chunk-SN5MITE4.js";import{a as T,b as m,c as L,d as q,f as M,h as j,i as A,j as R,k as D,l as k,n as O,o as G,p as V}from"./chunk-B2HCO65P.js";import{a as B}from"./chunk-BPTFILPP.js";import{b as H}from"./chunk-5N72VQB2.js";import"./chunk-VSPTT5AX.js";import{e as y,g as N,p as I,q as F,t as U,v as z}from"./chunk-BJBUZF5B.js";import{$a as a,Bb as C,Ra as n,Sa as c,ba as x,cb as s,gb as r,hb as t,ia as _,ib as d,ja as S,pb as E,qb as f,ub as o,wb as v,xb as w}from"./chunk-GQGQXF3A.js";function P(i,l){i&1&&(r(0,"p",45),o(1," Campo obligatorio "),t())}function Q(i,l){if(i&1&&(r(0,"p",45),o(1),t()),i&2){let u=f();n(),v(" Minimo ",u.usuario==null||u.usuario.errors==null?null:u.usuario.errors.minlength.requiredLength," caracteres ")}}function W(i,l){i&1&&(r(0,"p",46),o(1," Campo obligatorio "),t())}function X(i,l){i&1&&(r(0,"p",46),o(1," Debe colocar un email "),t())}function Y(i,l){i&1&&(r(0,"p",45),o(1," Campo obligatorio "),t())}function Z(i,l){i&1&&(r(0,"p",45),o(1," Campo obligatorio "),t())}function $(i,l){i&1&&(r(0,"p",45),o(1," Campo obligatorio "),t())}function ee(i,l){i&1&&(r(0,"p",45),o(1," Campo obligatorio "),t())}function te(i,l){if(i&1&&(r(0,"p",45),o(1),t()),i&2){let u=f();n(),v(" Minimo ",u.password==null||u.password.errors==null?null:u.password.errors.minlength.requiredLength," caracteres ")}}function ie(i,l){i&1&&(r(0,"p",45),o(1," Campo obligatorio "),t())}function re(i,l){if(i&1&&(r(0,"p",45),o(1),t()),i&2){let u=f();n(),v(" Minimo ",u.repetir==null||u.repetir.errors==null?null:u.repetir.errors.minlength.requiredLength," caracteres ")}}function oe(i,l){i&1&&(r(0,"div",47)(1,"p",48),o(2," A "),t()())}function ne(i,l){i&1&&(r(0,"div",49)(1,"p",50),o(2," E "),t()())}function le(i,l){if(i&1&&(r(0,"p",51),o(1),t()),i&2){let u=f();n(),v(" ",u.usuarioForm.value.usuario," ")}}function ae(i,l){i&1&&(r(0,"p",52),o(1," Nombre de usuario "),t())}function ue(i,l){if(i&1&&(r(0,"p",53),o(1),t()),i&2){let u=f();n(),w(" ",u.usuarioForm.value.nombre.toLowerCase()," ",u.usuarioForm.value.apellido.toLowerCase()," ")}}function me(i,l){i&1&&(r(0,"p",52),o(1," Apellido y Nombre "),t())}function se(i,l){if(i&1&&(r(0,"p"),o(1),t()),i&2){let u=f();n(),v(" ",u.usuarioForm.value.email.toLowerCase()," ")}}function de(i,l){i&1&&(r(0,"p"),o(1," Correo electr\xF3nico "),t())}var we=(()=>{let l=class l{get usuario(){return this.usuarioForm.get("usuario")}get apellido(){return this.usuarioForm.get("apellido")}get nombre(){return this.usuarioForm.get("nombre")}get dni(){return this.usuarioForm.get("dni")}get email(){return this.usuarioForm.get("email")}get password(){return this.usuarioForm.get("password")}get repetir(){return this.usuarioForm.get("repetir")}get role(){return this.usuarioForm.get("role")}constructor(g,p,e,h,b){this.fb=g,this.router=p,this.usuariosService=e,this.alertService=h,this.dataService=b,this.sucursales=[],this.sucursalSeleccionada="",this.sucursalesAsignadas=[]}ngOnInit(){B.from(".gsap-contenido",{y:100,opacity:0,duration:.2}),this.dataService.ubicacionActual="Dashboard - Creando usuario",this.usuarioForm=this.fb.group({usuario:["",[m.required,m.minLength(4)]],apellido:["",m.required],nombre:["",m.required],dni:["",m.required],email:["",[m.required,m.email]],password:["",[m.required,m.minLength(4)]],repetir:["",[m.required,m.minLength(4)]],role:["ADMIN_ROLE",m.required]})}nuevoUsuario(){let{usuario:g,role:p,password:e,repetir:h}=this.usuarioForm.value;if(e!==h){this.alertService.info("Las contrase\xF1as deben coincidir");return}let b=this.usuarioForm.value;delete b.repetir,this.usuarioForm.valid?(this.alertService.loading(),this.usuariosService.nuevoUsuario(this.usuarioForm.value).subscribe({next:()=>{this.router.navigateByUrl("dashboard/usuarios"),this.alertService.close()},error:({error:K})=>{this.alertService.errorApi(K.message)}})):this.usuarioForm.markAllAsTouched()}};l.\u0275fac=function(p){return new(p||l)(c(O),c(I),c(J),c(z),c(H))},l.\u0275cmp=x({type:l,selectors:[["app-nuevo-usuario"]],standalone:!0,features:[C],decls:103,vars:20,consts:[[1,"lg:flex","p-4","gsap-contenido","max-w-5xl","mx-auto"],[1,"w-full","lg:w-1/2","bg-white","mr-2","shadow","rounded","border","border-gray-400"],[1,"pb-2",3,"formGroup"],[1,"flex","items-center","p-2","bg-gray-800","border","border-gray-800","rounded-t"],["routerLink","/dashboard/usuarios",1,"p-2","text-white","hover:text-secondaryColor"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"],[1,"ml-1","text-xl","text-white"],[1,"px-4","p-2","text-sm"],[1,"flex","flex-col","lg:flex-row"],[1,"w-full","mx-2","flex-1","svelte-1l8159u"],[1,"font-semibold","bold","mt-3","text-gray-600","text-sm"],[1,"text-red-500"],[1,"bg-white","p-1"],["placeholder","Ej. lmoreno","formControlName","usuario",1,"input-generico","w-full"],["class","text-error mt-1",4,"ngIf"],[1,"font-semibold","mt-3","text-gray-600","text-sm"],["type","email","formControlName","email","placeholder","Ej. lucasmoreno@gmail.com",1,"input-generico","w-full"],["class","text-error",4,"ngIf"],["placeholder","Ej. Moreno","formControlName","apellido",1,"input-generico","w-full"],["placeholder","Ej. Lucas","formControlName","nombre",1,"input-generico","w-full"],[1,"w-full","mx-2","flex-1"],["placeholder","Ej. 34060398","formControlName","dni",1,"input-generico","w-full"],[1,"font-semibold","mt-2","text-gray-600","text-sm"],[1,"bg-white","my-2","flex"],["formControlName","role",1,"input-generico","w-full"],["value","USER_ROLE"],["value","ADMIN_ROLE"],["type","password","formControlName","password","autocomplete","false","placeholder","******",1,"input-generico","w-full"],["type","password","formControlName","repetir","autocomplete","false","placeholder","******",1,"input-generico","w-full"],[1,"boton-crear","w-full","ml-2","md:ml-0","mt-3",3,"click"],[1,"w-full","lg:w-1/2","mt-2","lg:mt-0","h-full"],[1,"bg-white","border","shadow","border-gray-400","p-4","rounded"],[1,"flex","mb-2"],["class","bg-blue-100 flex items-center justify-center w-32 h-32 rounded-full shadow border border-blue-300",4,"ngIf"],["class","bg-orange-100 flex items-center justify-center w-32 h-32 rounded-full shadow border border-orange-300",4,"ngIf"],[1,"ml-4","mt-2"],[1,"mt-1"],[1,"text-xl","lg:text-3xl"],["class","font-semibold",4,"ngIf"],["class","text-gray-400",4,"ngIf"],[1,"text-md","lg:text-2xl"],["class","capitalize",4,"ngIf"],[1,"text-xs","lg:text-lg","text-gray-400"],[4,"ngIf"],[1,"text-error","mt-1"],[1,"text-error"],[1,"bg-blue-100","flex","items-center","justify-center","w-32","h-32","rounded-full","shadow","border","border-blue-300"],[1,"text-6xl","font-semibold","text-blue-900"],[1,"bg-orange-100","flex","items-center","justify-center","w-32","h-32","rounded-full","shadow","border","border-orange-300"],[1,"text-6xl","font-semibold","text-orange-500"],[1,"font-semibold"],[1,"text-gray-400"],[1,"capitalize"]],template:function(p,e){p&1&&(r(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"button",4),_(),r(5,"svg",5),d(6,"path",6),t()(),S(),r(7,"h1",7),o(8," Nuevo usuario "),t()(),r(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"span",12),o(14," * "),t(),o(15," Nombre de usuario "),t(),r(16,"div",13),d(17,"input",14),s(18,P,2,0,"p",15)(19,Q,2,1,"p",15),t()(),r(20,"div",10)(21,"div",16)(22,"span",12),o(23," * "),t(),o(24," Email "),t(),r(25,"div",13),d(26,"input",17),t(),s(27,W,2,0,"p",18)(28,X,2,0,"p",18),t()(),r(29,"div",9)(30,"div",10)(31,"div",16)(32,"span",12),o(33," * "),t(),o(34," Apellido "),t(),r(35,"div",13),d(36,"input",19),s(37,Y,2,0,"p",15),t()(),r(38,"div",10)(39,"div",16)(40,"span",12),o(41," * "),t(),o(42," Nombre "),t(),r(43,"div",13),d(44,"input",20),s(45,Z,2,0,"p",15),t()()(),r(46,"div",9)(47,"div",21)(48,"div",16)(49,"span",12),o(50," * "),t(),o(51," DNI "),t(),r(52,"div",13),d(53,"input",22),s(54,$,2,0,"p",15),t()(),r(55,"div",21)(56,"div",23)(57,"span",12),o(58," * "),t(),o(59," Rol "),t(),r(60,"div",24)(61,"select",25)(62,"option",26),o(63," Usuario estandar "),t(),r(64,"option",27),o(65," Administrador "),t()()()()(),r(66,"div",9)(67,"div",21)(68,"div",23)(69,"span",12),o(70," * "),t(),o(71," Contrase\xF1a "),t(),r(72,"div",13),d(73,"input",28),s(74,ee,2,0,"p",15)(75,te,2,1,"p",15),t()(),r(76,"div",21)(77,"div",23)(78,"span",12),o(79," * "),t(),o(80," Repetir contrase\xF1a "),t(),r(81,"div",13),d(82,"input",29),s(83,ie,2,0,"p",15)(84,re,2,1,"p",15),t()()(),r(85,"button",30),E("click",function(){return e.nuevoUsuario()}),o(86," Crear usuario "),t()()()(),r(87,"div",31)(88,"div",32)(89,"div",33),s(90,oe,3,0,"div",34)(91,ne,3,0,"div",35),r(92,"div",36)(93,"div",37)(94,"div",38),s(95,le,2,1,"p",39)(96,ae,2,0,"p",40),t(),r(97,"div",41),s(98,ue,2,2,"p",42)(99,me,2,0,"p",40),t(),r(100,"div",43),s(101,se,2,1,"p",44)(102,de,2,0,"p",44),t()()()()()()()),p&2&&(n(2),a("formGroup",e.usuarioForm),n(16),a("ngIf",(e.usuario==null?null:e.usuario.touched)&&(e.usuario==null||e.usuario.errors==null?null:e.usuario.errors.required)),n(),a("ngIf",(e.usuario==null?null:e.usuario.touched)&&(e.usuario==null||e.usuario.errors==null?null:e.usuario.errors.minlength)),n(8),a("ngIf",(e.email==null?null:e.email.touched)&&(e.email==null||e.email.errors==null?null:e.email.errors.required)),n(),a("ngIf",(e.email==null?null:e.email.touched)&&(e.email==null||e.email.errors==null?null:e.email.errors.email)),n(9),a("ngIf",(e.apellido==null?null:e.apellido.touched)&&(e.apellido==null||e.apellido.errors==null?null:e.apellido.errors.required)),n(8),a("ngIf",(e.nombre==null?null:e.nombre.touched)&&(e.nombre==null||e.nombre.errors==null?null:e.nombre.errors.required)),n(9),a("ngIf",(e.dni==null?null:e.dni.touched)&&(e.dni==null||e.dni.errors==null?null:e.dni.errors.required)),n(20),a("ngIf",(e.password==null?null:e.password.touched)&&(e.password==null||e.password.errors==null?null:e.password.errors.required)),n(),a("ngIf",(e.password==null?null:e.password.touched)&&(e.password==null||e.password.errors==null?null:e.password.errors.minlength)),n(8),a("ngIf",(e.repetir==null?null:e.repetir.touched)&&(e.repetir==null||e.repetir.errors==null?null:e.repetir.errors.required)),n(),a("ngIf",(e.repetir==null?null:e.repetir.touched)&&(e.repetir==null||e.repetir.errors==null?null:e.repetir.errors.minlength)),n(6),a("ngIf",e.usuarioForm.value.role==="ADMIN_ROLE"),n(),a("ngIf",e.usuarioForm.value.role==="USER_ROLE"),n(4),a("ngIf",e.usuarioForm.value.usuario.trim()!==""),n(),a("ngIf",e.usuarioForm.value.usuario.trim()==""),n(2),a("ngIf",e.usuarioForm.value.nombre.trim()||e.usuarioForm.value.apellido.trim()),n(),a("ngIf",e.usuarioForm.value.nombre.trim()==""&&e.usuarioForm.value.apellido.trim()==""),n(2),a("ngIf",e.usuarioForm.value.email.trim()!==""),n(),a("ngIf",e.usuarioForm.value.email.trim()==""))},dependencies:[U,F,G,M,D,k,T,R,L,q,V,j,A,N,y],encapsulation:2});let i=l;return i})();export{we as default};
