import{a as J}from"./chunk-VZ6DWDHM.js";import{a as O}from"./chunk-22XSY4EJ.js";import{a as q}from"./chunk-AZJWBWL5.js";import"./chunk-55FSNNZ2.js";import{c as Y}from"./chunk-6M6LJACB.js";import"./chunk-ZOJYGP6Z.js";import{c as Z}from"./chunk-U34JSWL2.js";import{a as A,c as L,e as N,o as z}from"./chunk-B2HCO65P.js";import"./chunk-BPTFILPP.js";import{b as H}from"./chunk-5N72VQB2.js";import"./chunk-VSPTT5AX.js";import{b as D,c as B,d as $,e as M,g as F,n as G,q as V,t as P,v as R}from"./chunk-BJBUZF5B.js";import{$a as m,Bb as k,Db as h,Gb as s,Hb as p,Ra as l,Sa as _,ba as T,cb as v,ga as C,gb as t,ha as w,hb as e,ia as x,ib as f,ja as E,lb as y,pb as j,qb as u,ub as i,wb as o}from"./chunk-GQGQXF3A.js";function Q(a,d){if(a&1&&(t(0,"div",40)(1,"p"),i(2," Guia de despacho "),e(),t(3,"p",41),i(4),s(5,"moneda"),e()()),a&2){let r=u();l(4),o(" $",p(5,1,r.caja==null?null:r.caja.totalFacturado)," ")}}function U(a,d){if(a&1&&(t(0,"div",42)(1,"p"),i(2," Factura A "),e(),t(3,"p",43),i(4),s(5,"moneda"),e()()),a&2){let r=u();l(4),o(" $",p(5,1,r.caja==null?null:r.caja.totalFacturadoTipoA)," ")}}function W(a,d){if(a&1&&(t(0,"div",44)(1,"p"),i(2," Total "),e(),t(3,"p",45),i(4),s(5,"moneda"),e()()),a&2){let r=u();l(4),o(" $",p(5,1,(r.caja==null?null:r.caja.totalFacturadoTipoA)+(r.caja==null?null:r.caja.totalFacturado))," ")}}function X(a,d){a&1&&(x(),t(0,"svg",46),f(1,"path",47),e())}function ee(a,d){a&1&&(x(),t(0,"svg",46),f(1,"path",48),e())}function te(a,d){if(a&1&&(t(0,"div",49)(1,"div",20)(2,"div",4)(3,"span",28),i(4," (-) "),e(),t(5,"p",22),i(6," Debito "),e()(),t(7,"p",29),i(8),s(9,"moneda"),e()(),t(10,"div",20)(11,"div",4)(12,"span",28),i(13," (-) "),e(),t(14,"p",22),i(15," Credito "),e()(),t(16,"p",29),i(17),s(18,"moneda"),e()(),t(19,"div",20)(20,"div",4)(21,"span",28),i(22," (-) "),e(),t(23,"p",22),i(24," MercadoPago "),e()(),t(25,"p",29),i(26),s(27,"moneda"),e()()()),a&2){let r=u();l(8),o(" -$",p(9,3,r.caja==null?null:r.caja.totalDebito)," "),l(9),o(" -$",p(18,5,r.caja.totalCredito)," "),l(9),o(" -$",p(27,7,r.caja==null?null:r.caja.totalMercadoPago)," ")}}function ie(a,d){a&1&&(x(),t(0,"svg",55),f(1,"path",47),e())}function ne(a,d){a&1&&(x(),t(0,"svg",55),f(1,"path",48),e())}function ae(a,d){if(a&1&&(t(0,"p",59),i(1),e()),a&2){let r=u().$implicit;l(),o(" ",r.descripcion," ")}}function le(a,d){if(a&1&&(t(0,"div",57)(1,"div")(2,"p",19)(3,"span",54),i(4," (+) "),e(),i(5),e(),v(6,ae,2,1,"p",58),e(),t(7,"p"),i(8),s(9,"moneda"),e()()),a&2){let r=d.$implicit;l(5),o(" ",r.tipoIngreso.descripcion," "),l(),m("ngIf",r.descripcion),l(2),o(" $",p(9,3,r.monto)," ")}}function re(a,d){if(a&1&&(t(0,"div"),v(1,le,10,5,"div",56),e()),a&2){let r=u(2);l(),m("ngForOf",r.ingresos)}}function oe(a,d){if(a&1){let r=y();t(0,"div")(1,"div",50),j("click",function(){C(r);let c=u();return w(c.showIngresos=!c.showIngresos)}),t(2,"h3"),i(3," Listado de ingresos "),e(),t(4,"div"),v(5,ie,2,0,"svg",51)(6,ne,2,0,"svg",51),e()(),v(7,re,2,1,"div",39),t(8,"div",52)(9,"p",53)(10,"span",54),i(11," (+) "),e(),i(12," Total ingresos "),e(),t(13,"p"),i(14),s(15,"moneda"),e()()()}if(a&2){let r=u();l(5),m("ngIf",r.showIngresos),l(),m("ngIf",!r.showIngresos),l(),m("ngIf",r.showIngresos),l(7),o(" $",p(15,4,r.caja.totalOtrosIngresos)," ")}}function de(a,d){a&1&&(x(),t(0,"svg",55),f(1,"path",47),e())}function se(a,d){a&1&&(x(),t(0,"svg",55),f(1,"path",48),e())}function pe(a,d){if(a&1&&(t(0,"p",59),i(1),e()),a&2){let r=u().$implicit;l(),o(" ",r.descripcion," ")}}function me(a,d){if(a&1&&(t(0,"div",57)(1,"div")(2,"p",19)(3,"span",62),i(4," (-) "),e(),i(5),e(),v(6,pe,2,1,"p",58),e(),t(7,"p"),i(8),s(9,"moneda"),e()()),a&2){let r=d.$implicit;l(5),o(" ",r.tipoGasto.descripcion," "),l(),m("ngIf",r.descripcion),l(2),o(" -$",p(9,3,r.monto)," ")}}function ce(a,d){if(a&1&&(t(0,"div"),v(1,me,10,5,"div",56),e()),a&2){let r=u(2);l(),m("ngForOf",r.gastos)}}function ve(a,d){if(a&1){let r=y();t(0,"div")(1,"div",60),j("click",function(){C(r);let c=u();return w(c.showGastos=!c.showGastos)}),t(2,"h3"),i(3," Listado de gastos "),e(),t(4,"div"),v(5,de,2,0,"svg",51)(6,se,2,0,"svg",51),e()(),v(7,ce,2,1,"div",39),t(8,"div",61)(9,"p",53)(10,"span",62),i(11," (-) "),e(),i(12," Total gastos "),e(),t(13,"p"),i(14),s(15,"moneda"),e()()()}if(a&2){let r=u();l(5),m("ngIf",r.showGastos),l(),m("ngIf",!r.showGastos),l(),m("ngIf",r.showGastos),l(7),o(" -$",p(15,4,r.caja.totalOtrosGastos)," ")}}function ue(a,d){a&1&&(t(0,"div")(1,"p",63),i(2," No se encontraron elementos cargados "),e()())}var ge=a=>["/dashboard/ventas-caja",a],I=a=>({"text-red-600":a}),Ve=(()=>{let d=class d{constructor(g,c,n,S,b,K){this.authService=g,this.dataService=c,this.cajasService=n,this.activatedRoute=S,this.alertService=b,this.location=K,this.caja={},this.fechaCaja="",this.showTotalFacturado=!1,this.showPostnet=!1,this.showIngresos=!1,this.showGastos=!1,this.ingresos=[],this.gastos=[]}ngOnInit(){this.dataService.ubicacionActual="Dashboard - Detalles de caja",this.alertService.loading(),this.activatedRoute.params.subscribe({next:({id:g})=>{this.cajasService.getCaja(g).subscribe({next:({caja:c})=>{this.caja=c,this.fechaCaja=Y(new Date(this.caja?.fechaCaja),"yyyy-MM-dd"),this.ingresos=c.ingresosCajas,this.gastos=c.gastosCajas,this.alertService.close()},error:({error:c})=>this.alertService.errorApi(c.message)})},error:({error:g})=>this.alertService.errorApi(g.message)})}actualizarCaja(){this.alertService.loading(),this.cajasService.actualizarCaja(this.caja.id,{fechaCaja:this.fechaCaja}).subscribe({next:()=>{this.alertService.success("Caja actualizada correctamente")},error:({error:g})=>this.alertService.errorApi(g.message)})}regresar(){console.log("llega"),this.location.back()}};d.\u0275fac=function(c){return new(c||d)(_(O),_(H),_(J),_(G),_(R),_(D))},d.\u0275cmp=T({type:d,selectors:[["app-detalles-caja"]],standalone:!0,features:[k],decls:159,vars:69,consts:[[1,"text-sm","mb-4"],[1,"md:flex","md:justify-center","mt-4","md:px-10"],[1,"md:w-1/2","w-11/12","border","mx-auto","border-gray-400","rounded-t"],[1,"bg-gray-800","border","border-gray-900","p-2","flex","items-center","justify-between"],[1,"flex","items-center"],["title","Regresar",1,"hover:text-secondaryColor","text-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"],[1,"text-white","ml-2","text-lg","rounded-t"],["title","Listado de ventas",1,"p-2","bg-gray-100","rounded","border","hover:text-secondaryColor",3,"routerLink"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"],[1,"p-2"],[1,"flex","items-center","justify-center"],[1,"w-1/2"],[1,"text-gray-900","text-center","font-semibold"],["onkeydown","return false","type","date",1,"input-generico","w-full","mt-2","text-center",3,"ngModel","change","ngModelChange"],[1,"w-1/2","ml-2"],[1,"bg-gray-100","border","w-full","text-center","mt-2","border-gray-400","p-2","rounded"],[1,"p-2","flex","items-center","justify-between","bg-gray-100","border","border-gray-400"],[1,"font-semibold"],[1,"flex","items-center","p-2","mt-1","justify-between"],[1,"text-green-600","font-semibold"],[1,"ml-1"],[1,"p-2","mt-1","cursor-pointer","bg-gray-100","border","border-gray-400",3,"click"],[1,"flex","items-center","justify-between"],["class","flex bg-purple-50 text-sm border mt-2 border-purple-400 p-2 items-center justify-between",4,"ngIf"],["class","flex bg-orange-50 text-sm border mt-2 border-orange-400 p-2 items-center justify-between",4,"ngIf"],["class","flex bg-green-50 text-sm border mt-2 border-green-400 p-2 items-center justify-between",4,"ngIf"],[1,"text-red-600","font-semibold"],[1,"text-red-600"],[1,"flex","items-center","cursor-pointer","px-2","py-1","mt-1","justify-between",3,"click"],[1,"ml-2","p-1","bg-gray-100","rounded-full","border","border-gray-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","class","w-3 h-3",4,"ngIf"],["class","bg-red-50 p-2 text-sm border mb-2 border-red-300",4,"ngIf"],[1,"p-2","flex","items-center","mt-2","justify-between","bg-gray-100","border","border-gray-400"],[1,"font-semibold",3,"ngClass"],[1,"md:w-1/2","w-11/12","md:ml-2","mt-3","md:mt-0","mx-auto","border","h-max","border-gray-400"],[1,"p-2","flex","items-center","justify-between","bg-gray-800","text-white"],[1,"text-lg"],[4,"ngIf"],[1,"flex","bg-purple-50","text-sm","border","mt-2","border-purple-400","p-2","items-center","justify-between"],[1,"font-semibold","text-purple-800"],[1,"flex","bg-orange-50","text-sm","border","mt-2","border-orange-400","p-2","items-center","justify-between"],[1,"font-semibold","text-orange-800"],[1,"flex","bg-green-50","text-sm","border","mt-2","border-green-400","p-2","items-center","justify-between"],[1,"font-semibold","text-green-800"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-3","h-3"],["stroke-linecap","round","stroke-linejoin","round","d","m19.5 8.25-7.5 7.5-7.5-7.5"],["stroke-linecap","round","stroke-linejoin","round","d","m4.5 15.75 7.5-7.5 7.5 7.5"],[1,"bg-red-50","p-2","text-sm","border","mb-2","border-red-300"],[1,"bg-green-100","flex","items-center","justify-between","cursor-pointer","p-2","border","border-green-300",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor","class","w-4 h-4",4,"ngIf"],[1,"flex","font-semibold","items-center","justify-between","px-2","mb-4","mt-1"],[1,"mt-2"],[1,"font-semibold","text-green-600"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-4","h-4"],["class","flex items-center border-b border-b-300 justify-between mt-2 p-2",4,"ngFor","ngForOf"],[1,"flex","items-center","border-b","border-b-300","justify-between","mt-2","p-2"],["class","text-gray-500 uppercase text-xs mt-1",4,"ngIf"],[1,"text-gray-500","uppercase","text-xs","mt-1"],[1,"flex","items-center","bg-red-100","cursor-pointer","justify-between","p-2","border","border-red-300",3,"click"],[1,"flex","font-semibold","items-center","justify-between","mb-4","mt-1","px-2"],[1,"font-semibold","text-red-600"],[1,"text-gray-500","italic","text-center","py-2"]],template:function(c,n){c&1&&(t(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"button",5),j("click",function(){return n.regresar()}),x(),t(7,"svg",6),f(8,"path",7),e()(),E(),t(9,"h1",8),i(10),e()(),t(11,"div")(12,"button",9),x(),t(13,"svg",6),f(14,"path",10),e()()()(),E(),t(15,"div",11)(16,"div")(17,"div",12)(18,"div",13)(19,"h2",14),i(20," Fecha de cierre "),e(),t(21,"input",15),j("change",function(){return n.actualizarCaja()})("ngModelChange",function(b){return n.fechaCaja=b}),e()(),t(22,"div",16)(23,"h2",14),i(24," Saldo inicial "),e(),t(25,"div",17),i(26),s(27,"moneda"),e()(),f(28,"div"),e()()(),t(29,"div",11)(30,"div",18)(31,"p"),i(32," Cantidad de ventas "),e(),t(33,"p",19),i(34),e()(),t(35,"div",20)(36,"div",4)(37,"span",21),i(38," (+) "),e(),t(39,"p",22),i(40," Total balanza "),e()(),t(41,"p"),i(42),s(43,"moneda"),e()(),t(44,"div",20)(45,"div",4)(46,"span",21),i(47," (+) "),e(),t(48,"p",22),i(49," Total no balanza "),e()(),t(50,"p"),i(51),s(52,"moneda"),e()(),t(53,"div",20)(54,"div",4)(55,"span",21),i(56," (+) "),e(),t(57,"p",22),i(58," Total adicional por credito "),e()(),t(59,"p"),i(60),s(61,"moneda"),e()(),t(62,"div",23),j("click",function(){return n.showTotalFacturado=!n.showTotalFacturado}),t(63,"div",24)(64,"p"),i(65," Total en ventas "),e(),t(66,"p",19),i(67),s(68,"moneda"),e()(),v(69,Q,6,3,"div",25)(70,U,6,3,"div",26)(71,W,6,3,"div",27),e(),t(72,"div",20)(73,"div",4)(74,"span",21),i(75," (+) "),e(),t(76,"p",22),i(77," Saldo inicial de caja "),e()(),t(78,"p"),i(79),s(80,"moneda"),e()(),t(81,"div",20)(82,"div",4)(83,"span",21),i(84," (+) "),e(),t(85,"p",22),i(86," Otros ingresos "),e()(),t(87,"p"),i(88),s(89,"moneda"),e()(),t(90,"div",20)(91,"div",4)(92,"span",28),i(93," (-) "),e(),t(94,"p",22),i(95," Otros gastos "),e()(),t(96,"p",29),i(97),s(98,"moneda"),e()(),t(99,"div",20)(100,"div",4)(101,"span",28),i(102," (-) "),e(),t(103,"p",22),i(104," PedidosYa - Online "),e()(),t(105,"p",29),i(106),s(107,"moneda"),e()(),t(108,"div",30),j("click",function(){return n.showPostnet=!n.showPostnet}),t(109,"div",4)(110,"span",28),i(111," (-) "),e(),t(112,"p",22),i(113," Total postnet "),e(),t(114,"div",31),v(115,X,2,0,"svg",32)(116,ee,2,0,"svg",32),e()(),t(117,"p",29),i(118),s(119,"moneda"),e()(),v(120,te,28,9,"div",33),t(121,"div",34)(122,"p"),i(123," Total efectivo en caja (Sistema) "),e(),t(124,"p",19),i(125),s(126,"moneda"),e()(),t(127,"div",34)(128,"p"),i(129," Total efectivo en caja (Real) "),e(),t(130,"p",19),i(131),s(132,"moneda"),e()(),t(133,"div",34)(134,"p"),i(135," Diferencia en caja "),e(),t(136,"p",35),i(137),s(138,"moneda"),e()(),t(139,"div",34)(140,"p"),i(141," Monto tesoreria "),e(),t(142,"p",35),i(143),s(144,"moneda"),e()(),t(145,"div",34)(146,"p"),i(147," Saldo inicial proxima caja "),e(),t(148,"p",35),i(149),s(150,"moneda"),e()()()(),t(151,"div",36)(152,"div",37)(153,"h2",38),i(154," Ingresos y gastos "),e()(),t(155,"div",11),v(156,oe,16,6,"div",39)(157,ve,16,6,"div",39)(158,ue,3,0,"div",39),e()()()()()),c&2&&(l(10),o(" Cierre de caja - Nro ",n.caja==null?null:n.caja.id," "),l(2),m("routerLink",h(61,ge,n.caja.id)),l(9),m("ngModel",n.fechaCaja),l(5),o(" $",p(27,31,n.caja==null?null:n.caja.saldoInicial)," "),l(8),o(" ",n.caja==null?null:n.caja.cantidadVentas," "),l(8),o(" $",p(43,33,n.caja==null?null:n.caja.totalBalanza)," "),l(9),o(" $",p(52,35,n.caja==null?null:n.caja.totalNoBalanza)," "),l(9),o(" $",p(61,37,n.caja==null?null:n.caja.totalAdicionalCredito)," "),l(7),o(" $",p(68,39,n.caja==null?null:n.caja.totalVentas)," "),l(2),m("ngIf",n.showTotalFacturado),l(),m("ngIf",n.showTotalFacturado),l(),m("ngIf",n.showTotalFacturado),l(8),o(" $",p(80,41,n.caja.saldoInicial)," "),l(9),o(" $",p(89,43,n.caja==null?null:n.caja.totalOtrosIngresos)," "),l(9),o(" -$",p(98,45,n.caja==null?null:n.caja.totalOtrosGastos)," "),l(9),o(" -$",p(107,47,n.caja==null?null:n.caja.totalPedidosYaOnline)," "),l(9),m("ngIf",n.showPostnet),l(),m("ngIf",!n.showPostnet),l(2),o(" -$",p(119,49,n.caja==null?null:n.caja.totalPostnet)," "),l(2),m("ngIf",n.showPostnet),l(5),o(" $",p(126,51,n.caja==null?null:n.caja.totalEfectivoEnCaja)," "),l(6),o(" $",p(132,53,n.caja==null?null:n.caja.totalEfectivoEnCajaReal)," "),l(5),m("ngClass",h(63,I,(n.caja==null?null:n.caja.diferencia)<0)),l(),o(" $",p(138,55,n.caja==null?null:n.caja.diferencia)," "),l(5),m("ngClass",h(65,I,(n.caja==null?null:n.caja.tesoreria)<0)),l(),o(" $",p(144,57,n.caja==null?null:n.caja.tesoreria)," "),l(5),m("ngClass",h(67,I,(n.caja==null?null:n.caja.saldoProximaCaja)<0)),l(),o(" $",p(150,59,n.caja==null?null:n.caja.saldoProximaCaja)," "),l(7),m("ngIf",n.ingresos.length>0),l(),m("ngIf",n.gastos.length>0),l(),m("ngIf",n.ingresos.length===0&&n.gastos.length===0))},dependencies:[F,B,$,M,z,A,L,N,Z,P,V,q],encapsulation:2});let a=d;return a})();export{Ve as default};
