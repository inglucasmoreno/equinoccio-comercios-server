import{h,u as p}from"./chunk-BJBUZF5B.js";import{V as l,_ as d,ea as u}from"./chunk-GQGQXF3A.js";var f=(()=>{let i=class i{transform(e,t,s){let r,o;return s==="true"?r=!0:s==="false"?r=!1:r=null,r!==null?o=e.filter(c=>c.activo==r):r===null&&(o=e),t=t.toLocaleLowerCase(),t.length!==0?o.filter(c=>c.descripcion.toLocaleLowerCase().includes(t)||c.codigo.toLocaleUpperCase().includes(t)):o}};i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=u({name:"filtroProductos",type:i,pure:!0,standalone:!0});let a=i;return a})();var n=p.base_url+"/productos",M=(()=>{let i=class i{get getToken(){return{Authorization:localStorage.getItem("token")}}constructor(e){this.http=e,this.showModalAbm=!1,this.showModalAgregarProducto=!1,this.estadoAbm="crear",this.productos=[],this.productoSeleccionado=null,this.abmForm={codigo:"",descripcion:"",cantidad:0,alertaStock:"false",cantidadMinima:null,precioCompra:null,precioVenta:null,porcentajeGanancia:null,balanza:"false",alicuota:"21",unidadMedidaId:"1"}}getProducto(e){return this.http.get(`${n}/${e}`,{headers:this.getToken})}getProductoPorCodigo(e){return this.http.get(`${n}/buscar/codigo/${e}`,{headers:this.getToken})}generarCodigo(){return this.http.get(`${n}/generar/codigo`,{headers:this.getToken})}listarProductos({direccion:e="asc",columna:t="descripcion"}){return this.http.get(n,{params:{direccion:String(e),columna:t},headers:this.getToken})}nuevoProducto(e){return this.http.post(n,e,{headers:this.getToken})}actualizarProducto(e,t){return this.http.patch(`${n}/${e}`,t,{headers:this.getToken})}abrirAbm(e,t=null){this.estadoAbm=e,this.productoSeleccionado=t,this.showModalAbm=!0,e==="editar"?this.abmForm={codigo:t.codigo,descripcion:t.descripcion,cantidad:t.cantidad,alertaStock:t.alertaStock.toString(),cantidadMinima:t.cantidadMinima,precioCompra:t.precioCompra,precioVenta:t.precioVenta,porcentajeGanancia:t.porcentajeGanancia,balanza:t.balanza.toString(),alicuota:t.alicuota.toString(),unidadMedidaId:t.unidadMedidaId}:this.abmForm={codigo:"",descripcion:"",cantidad:0,alertaStock:"false",cantidadMinima:null,precioCompra:null,precioVenta:null,porcentajeGanancia:null,balanza:"false",alicuota:"21",unidadMedidaId:"1"}}abrirAgregarProducto(){}};i.\u0275fac=function(t){return new(t||i)(d(h))},i.\u0275prov=l({token:i,factory:i.\u0275fac,providedIn:"root"});let a=i;return a})();export{f as a,M as b};
