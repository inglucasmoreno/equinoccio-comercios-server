import{a as ge}from"./chunk-S452VPP6.js";import{a as he}from"./chunk-GO74AM6A.js";import{a as de}from"./chunk-4PVDMTCU.js";import{a as ue,b as ve}from"./chunk-LQQHBQB6.js";import{a as se}from"./chunk-OGQQ44XV.js";import{a as Z}from"./chunk-22XSY4EJ.js";import{a as D,b as _e}from"./chunk-H74VPA6E.js";import{a as pe}from"./chunk-AZJWBWL5.js";import{a as me}from"./chunk-55FSNNZ2.js";import{c as E,d as ce}from"./chunk-6M6LJACB.js";import{a as J,c as K,e as W,g as X,j as ee,k as te,l as ie,m as re,o as ae}from"./chunk-B2HCO65P.js";import{a as oe,b as le}from"./chunk-5N72VQB2.js";import"./chunk-VSPTT5AX.js";import{c as L,d as N,e as B,g as H,n as U,p as Y,q as $,t as q,u as Q,v as ne}from"./chunk-BJBUZF5B.js";import{$a as d,Bb as O,Db as j,Fb as G,Gb as S,Hb as y,Ib as V,Ra as l,Sa as M,ba as A,cb as f,db as F,eb as I,fb as z,ga as u,gb as t,ha as v,hb as i,ia as g,ib as _,ja as w,lb as b,pb as m,qb as c,ub as o,wb as x,xb as P}from"./chunk-GQGQXF3A.js";function be(n,p){if(n&1){let e=b();t(0,"div",60)(1,"div",61)(2,"div",62)(3,"p",15)(4,"span",63),o(5," * "),i(),o(6," Relleno 1 "),i(),t(7,"input",64),m("keyup.enter",function(){u(e);let r=c();return v(r.actualizarObservaciones())})("ngModelChange",function(r){u(e);let a=c();return v(a.tortaRelleno1=r)}),i()(),t(8,"div",65)(9,"p",15),o(10," Relleno 2 "),i(),t(11,"input",66),m("keyup.enter",function(){u(e);let r=c();return v(r.actualizarObservaciones())})("ngModelChange",function(r){u(e);let a=c();return v(a.tortaRelleno2=r)}),i()()(),t(12,"div",67)(13,"div",62)(14,"p",15),o(15," Relleno 3 "),i(),t(16,"input",68),m("keyup.enter",function(){u(e);let r=c();return v(r.actualizarObservaciones())})("ngModelChange",function(r){u(e);let a=c();return v(a.tortaRelleno3=r)}),i()(),t(17,"div",65)(18,"p",15)(19,"span",63),o(20," * "),i(),o(21," Forma "),i(),t(22,"input",69),m("keyup.enter",function(){u(e);let r=c();return v(r.actualizarObservaciones())})("ngModelChange",function(r){u(e);let a=c();return v(a.tortaForma=r)}),i()()(),t(23,"div",70)(24,"div",71)(25,"p",15)(26,"span",63),o(27," * "),i(),o(28," Peso "),i(),t(29,"input",72),m("keyup.enter",function(){u(e);let r=c();return v(r.actualizarObservaciones())})("ngModelChange",function(r){u(e);let a=c();return v(a.tortaPeso=r)}),i()(),t(30,"div",73)(31,"p",15)(32,"span",63),o(33," * "),i(),o(34," Cobertura "),i(),t(35,"input",64),m("keyup.enter",function(){u(e);let r=c();return v(r.actualizarObservaciones())})("ngModelChange",function(r){u(e);let a=c();return v(a.tortaCobertura=r)}),i()()()()}if(n&2){let e=c();l(7),d("ngModel",e.tortaRelleno1),l(4),d("ngModel",e.tortaRelleno2),l(5),d("ngModel",e.tortaRelleno3),l(6),d("ngModel",e.tortaForma),l(7),d("ngModel",e.tortaPeso),l(6),d("ngModel",e.tortaCobertura)}}function Ce(n,p){if(n&1){let e=b();t(0,"div",74)(1,"p",15),o(2," Detalles de torta "),i(),t(3,"textarea",75),m("ngModelChange",function(r){u(e);let a=c();return v(a.tortaDetalles=r)}),i()()}if(n&2){let e=c();l(3),d("ngModel",e.tortaDetalles)}}function we(n,p){n&1&&(t(0,"p",15),o(1," Observaciones generales (No impacta en comprobante) "),i())}function Se(n,p){n&1&&(t(0,"button",76),g(),t(1,"svg",3),_(2,"path",77),i()())}function ye(n,p){if(n&1){let e=b();t(0,"button",78),m("click",function(){u(e);let r=c();return v(r.cambiarImprimirTicket())}),g(),t(1,"svg",79),_(2,"path",80),i(),w(),t(3,"p",81),o(4," Imprimir ticket "),i()()}}function Me(n,p){if(n&1){let e=b();t(0,"button",78),m("click",function(){u(e);let r=c();return v(r.cambiarImprimirTicket())}),g(),t(1,"svg",82),_(2,"path",4),i(),w(),t(3,"p",81),o(4," No imprimir ticket "),i()()}}function Re(n,p){if(n&1&&(t(0,"option",83),o(1),i()),n&2){let e=p.$implicit;d("value",e.valor),l(),x(" ",e.descripcion," ")}}function Ee(n,p){if(n&1){let e=b();t(0,"div",84)(1,"input",85),m("ngModelChange",function(r){u(e);let a=c();return v(a.pedidosYaComprobante=r)}),i()()}if(n&2){let e=c();l(),d("ngModel",e.pedidosYaComprobante)}}function Te(n,p){if(n&1){let e=b();t(0,"button",86),m("click",function(){u(e);let r=c();return v(r.cambiarMultiplesFormasPago())}),o(1," Multiples formas de pago "),i()}}function Ve(n,p){if(n&1){let e=b();t(0,"div",27)(1,"input",87),m("keyup.enter",function(){u(e);let r=c();return v(r.agregarFormaPago())})("ngModelChange",function(r){u(e);let a=c();return v(a.valorFormaPago=r)}),i(),t(2,"button",88),m("click",function(){u(e);let r=c();return v(r.agregarFormaPago())}),g(),t(3,"svg",3),_(4,"path",89),i()(),w(),t(5,"button",90),m("click",function(){u(e);let r=c();return v(r.cambiarMultiplesFormasPago())}),g(),t(6,"svg",3),_(7,"path",4),i()()()}if(n&2){let e=c();l(),d("ngModel",e.valorFormaPago)}}var ke=(n,p)=>p.descripcion;function Pe(n,p){if(n&1){let e=b();t(0,"div",92)(1,"p",93),o(2),i(),t(3,"p",93),o(4),S(5,"moneda"),i(),t(6,"button",94),m("click",function(){let a=u(e).$implicit,h=c(2);return v(h.eliminarFormaPago(a.descripcion))}),g(),t(7,"svg",3),_(8,"path",95),i()()()}if(n&2){let e=p.$implicit;l(2),x(" ",e.descripcion," "),l(2),x(" $",y(5,2,e.valor)," ")}}function De(n,p){n&1&&(t(0,"div",96),o(1," Agregar al menos una forma de pago "),i())}function Ae(n,p){if(n&1&&(t(0,"div",74)(1,"h1",91),o(2," Formas de pago agregadas "),i(),t(3,"div"),I(4,Pe,9,4,"div",97,ke,!1,De,2,0),i()()),n&2){let e=c();l(4),z(e.formasPago)}}function Fe(n,p){if(n&1){let e=b();t(0,"button",143),m("click",function(){u(e);let r=c(3);return v(r.abrirCompletarReserva())}),g(),t(1,"svg",3),_(2,"path",80),i()()}}function Ie(n,p){if(n&1){let e=b();t(0,"button",144),m("click",function(){u(e);let r=c(3);return v(r.altaReserva())}),g(),t(1,"svg",3),_(2,"path",145),i()()}}function ze(n,p){if(n&1&&(g(),w(),t(0,"div"),f(1,Fe,3,0,"button",141)(2,Ie,3,0,"button",142),i()),n&2){let e=c(2);l(),d("ngIf",e.reserva.estado==="Pendiente"),l(),d("ngIf",e.reserva.estado==="No retirada")}}function Oe(n,p){n&1&&(g(),t(0,"svg",148)(1,"style"),o(2," @keyframes n-snooze { 0% { transform: scale(.2); opacity: .8 } 80% { transform: scale(1.2); opacity: 1 } to { transform: scale(1.2); opacity: 0 } } "),i(),_(3,"path",149)(4,"path",150)(5,"path",151),i())}function je(n,p){n&1&&(g(),t(0,"svg",148)(1,"style"),o(2," @keyframes rotate { 0% { transform: rotate(0) } to { transform: rotate(360deg) } } "),i(),_(3,"rect",152)(4,"path",153)(5,"path",154),i())}var Ge=n=>({"bg-orange-100":n});function Le(n,p){if(n&1){let e=b();t(0,"button",146),m("click",function(){u(e);let r=c(2);return v(r.abrirActualizarDatosAlerta())}),S(1,"alertaReserva"),f(2,Oe,6,0,"svg",147),S(3,"alertaReserva"),f(4,je,6,0,"svg",147),S(5,"alertaReserva"),i()}if(n&2){let e=c(2);d("ngClass",j(12,Ge,V(1,3,e.reserva==null?null:e.reserva.fechaAlerta,e.reserva==null?null:e.reserva.estado))),l(2),d("ngIf",!V(3,6,e.reserva==null?null:e.reserva.fechaAlerta,e.reserva==null?null:e.reserva.estado)),l(2),d("ngIf",V(5,9,e.reserva==null?null:e.reserva.fechaAlerta,e.reserva==null?null:e.reserva.estado))}}function Ne(n,p){if(n&1&&(t(0,"div",155),o(1),i()),n&2){let e=c(2);l(),x(" ",e.reserva.usuarioCreador," ")}}function Be(n,p){if(n&1){let e=b();t(0,"button",157),m("click",function(){u(e);let r=c(3);return v(r.abrirActualizarUsuarioGenerador())}),g(),t(1,"svg",3),_(2,"path",158),i()()}}function He(n,p){if(n&1&&(t(0,"div"),f(1,Be,3,0,"button",156),i()),n&2){let e=c(2);l(),d("ngIf",(e.reserva==null?null:e.reserva.estado)==="Pendiente"&&!e.showActualizarUsuarioGenerador)}}function Ue(n,p){if(n&1){let e=b();t(0,"div",159)(1,"input",160),m("keyup.enter",function(){u(e);let r=c(2);return v(r.actualizarUsuarioGenerador())})("ngModelChange",function(r){u(e);let a=c(2);return v(a.usuarioGenerador=r)}),i(),t(2,"button",161),m("click",function(){u(e);let r=c(2);return v(r.actualizarUsuarioGenerador())}),g(),t(3,"svg",3),_(4,"path",80),i()(),w(),t(5,"button",162),m("click",function(){u(e);let r=c(2);return v(r.showActualizarUsuarioGenerador=!1)}),g(),t(6,"svg",3),_(7,"path",4),i()()()}if(n&2){let e=c(2);l(),d("ngModel",e.usuarioGenerador)}}function Ye(n,p){if(n&1&&(t(0,"p",125),o(1),i()),n&2){let e=c(2);l(),x(" Tel. ",e.reserva==null?null:e.reserva.cliente.telefono," ")}}function $e(n,p){if(n&1&&(t(0,"div",163)(1,"span",164),g(),t(2,"svg",3),_(3,"path",165),i()(),w(),t(4,"p",101),o(5," Pago de adelanto - "),t(6,"span",166),o(7),i()()()),n&2){let e=c(2);l(7),x(" Venta Nro. ",e.reserva==null||e.reserva.ventasReservas[0]==null?null:e.reserva.ventasReservas[0].venta.id," ")}}function qe(n,p){if(n&1&&(t(0,"div",167)(1,"span",168),g(),t(2,"svg",3),_(3,"path",165),i()(),w(),t(4,"p",101),o(5," Reserva completada - "),t(6,"span",166),o(7),i()()()),n&2){let e=c(2);l(7),x(" Venta Nro. ",e.reserva==null||e.reserva.ventasReservas[1]==null?null:e.reserva.ventasReservas[1].venta.id," ")}}function Qe(n,p){if(n&1&&(t(0,"div",169)(1,"div",27),_(2,"img",170),t(3,"div",171)(4,"p",172),o(5),i(),t(6,"p",173),o(7),S(8,"moneda"),i(),t(9,"p",81),o(10),i(),t(11,"p",172),o(12),S(13,"moneda"),i()()(),_(14,"div",27),i()),n&2){let e=p.$implicit;l(5),x(" ",e.producto.descripcion," "),l(2),P(" $",y(8,5,e.precioUnitario)," x ",e.producto.unidadMedida.descripcion," "),l(3),x(" Cantidad: ",e.cantidad," "),l(2),x(" Precio: ",y(13,7,e.precioTotal)," ")}}function Ze(n,p){if(n&1){let e=b();t(0,"button",175),m("click",function(){u(e);let r=c(3);return v(r.abrirActualizarObservaciones())}),g(),t(1,"svg",3),_(2,"path",158),i()()}}function Je(n,p){if(n&1&&(t(0,"div"),f(1,Ze,3,0,"button",174),i()),n&2){let e=c(2);l(),d("ngIf",e.reserva.estado==="Pendiente")}}function Ke(n,p){if(n&1&&(t(0,"div")(1,"div",39)(2,"div",176),o(3),i()()()),n&2){let e=c(2);l(3),x(" ",e.reserva.observaciones," ")}}function We(n,p){n&1&&(t(0,"div")(1,"div",39)(2,"div",177),o(3," No se encontraron observaciones "),i()()())}function Xe(n,p){if(n&1){let e=b();t(0,"div")(1,"div",178)(2,"div",61)(3,"div",179)(4,"p",15)(5,"span",180),o(6," * "),i(),o(7," Relleno 1 "),i(),t(8,"input",181),m("ngModelChange",function(r){u(e);let a=c(2);return v(a.reserva.tortaRelleno1=r)}),i()(),t(9,"div",182)(10,"p",15),o(11," Relleno 2 "),i(),t(12,"input",183),m("ngModelChange",function(r){u(e);let a=c(2);return v(a.reserva.tortaRelleno2=r)}),i()()()(),t(13,"div",184)(14,"div",61)(15,"div",179)(16,"p",15),o(17," Relleno 3 "),i(),t(18,"input",185),m("ngModelChange",function(r){u(e);let a=c(2);return v(a.reserva.tortaRelleno3=r)}),i()(),t(19,"div",182)(20,"p",15)(21,"span",180),o(22," * "),i(),o(23," Forma "),i(),t(24,"input",186),m("ngModelChange",function(r){u(e);let a=c(2);return v(a.reserva.tortaForma=r)}),i()()()(),t(25,"div",187)(26,"div",61)(27,"div",179)(28,"p",15)(29,"span",180),o(30," * "),i(),o(31," Peso (kg) "),i(),t(32,"input",188),m("ngModelChange",function(r){u(e);let a=c(2);return v(a.reserva.tortaPeso=r)}),i()(),t(33,"div",189)(34,"p",15)(35,"span",180),o(36," * "),i(),o(37," Cobertura "),i(),t(38,"input",181),m("ngModelChange",function(r){u(e);let a=c(2);return v(a.reserva.tortaCobertura=r)}),i()()()(),t(39,"div",190)(40,"p",15),o(41," Detalles de torta "),i(),t(42,"textarea",191),m("ngModelChange",function(r){u(e);let a=c(2);return v(a.reserva.tortaDetalles=r)}),i()(),t(43,"div",192)(44,"p",15),o(45," Observaciones generales (No impacta en comprobante) "),i(),t(46,"textarea",193),m("ngModelChange",function(r){u(e);let a=c(2);return v(a.reserva.observaciones=r)}),i()()()}if(n&2){let e=c(2);l(8),d("ngModel",e.reserva.tortaRelleno1),l(4),d("ngModel",e.reserva.tortaRelleno2),l(6),d("ngModel",e.reserva.tortaRelleno3),l(6),d("ngModel",e.reserva.tortaForma),l(8),d("ngModel",e.reserva.tortaPeso),l(6),d("ngModel",e.reserva.tortaCobertura),l(4),d("ngModel",e.reserva.tortaDetalles),l(4),d("ngModel",e.reserva.observaciones)}}var et=(n,p,e)=>({"bg-red-100":n,"bg-green-100":p,"bg-yellow-100":e});function tt(n,p){if(n&1){let e=b();t(0,"div",98)(1,"div",99)(2,"div",27)(3,"button",100),g(),t(4,"svg",3),_(5,"path",29),i()(),w(),t(6,"div",101)(7,"h1",102),o(8),i(),t(9,"p",103),o(10),i()()(),t(11,"div",27)(12,"button",104),m("click",function(){u(e);let r=c();return v(r.generarComprobante())}),g(),t(13,"svg",3),_(14,"path",105),i()(),f(15,ze,3,2,"div",106),i()(),w(),t(16,"div",107)(17,"div",108)(18,"div",109)(19,"p",15),o(20," Fecha de reserva "),i(),t(21,"input",110),m("ngModelChange",function(r){u(e);let a=c();return v(a.fechaReserva=r)})("change",function(){u(e);let r=c();return v(r.actualizarFechaReserva())}),i()(),t(22,"div",111)(23,"p",112),o(24," Fecha y hora de entrega "),i(),t(25,"div",113)(26,"input",114),m("change",function(){u(e);let r=c();return v(r.actualizarFechaAlerta())})("ngModelChange",function(r){u(e);let a=c();return v(a.fechaEntrega=r)}),i(),t(27,"input",115),m("change",function(){u(e);let r=c();return v(r.actualizarFechaAlerta())})("ngModelChange",function(r){u(e);let a=c();return v(a.horaEntrega=r)}),i(),f(28,Le,6,14,"button",116),i()()(),t(29,"div",117)(30,"h1",15),o(31," Usuario generador "),i(),t(32,"div",27),f(33,Ne,2,1,"div",118)(34,He,2,1,"div",106)(35,Ue,8,1,"div",119),i()(),t(36,"div",120)(37,"h1",121),o(38," Datos de cliente "),i(),t(39,"div")(40,"div",122),_(41,"img",123),t(42,"div",124)(43,"p",15),o(44),i(),t(45,"p",125),o(46),i(),f(47,Ye,2,1,"p",126),i()()()(),t(48,"div",120)(49,"h1",121),o(50," Datos de cobro "),i(),t(51,"div",127)(52,"div",128)(53,"p",15),o(54," Precio total "),i(),t(55,"div",129),o(56),S(57,"moneda"),i()(),t(58,"div",130)(59,"p",15),o(60," Monto de se\xF1a "),i(),t(61,"div",131),o(62),S(63,"moneda"),i()(),t(64,"div",132)(65,"p",15),o(66," Falta pagar "),i(),t(67,"div",133),o(68),S(69,"moneda"),i()()(),t(70,"div",134),f(71,$e,8,1,"div",135)(72,qe,8,1,"div",136),i()(),t(73,"div",134)(74,"div",137)(75,"h1",15),o(76," Datos de productos "),i()(),t(77,"div",138),f(78,Qe,15,9,"div",139),i()(),t(79,"div",134)(80,"div",137)(81,"h1",15),o(82," Observaciones "),i(),f(83,Je,2,1,"div",106),i(),f(84,Ke,4,1,"div",140)(85,We,4,0,"div",140)(86,Xe,47,8,"div",140),i()()()}if(n&2){let e=c();l(8),x(" Detalles de reserva - Nro ",e.reserva.id," "),l(),d("ngClass",G(34,et,e.reserva.estado==="No retirada",e.reserva.estado==="Completada",e.reserva.estado==="Pendiente")),l(),x(" ",e.reserva==null?null:e.reserva.estado," "),l(5),d("appPermisos",e.permiso_escritura),l(6),d("disabled",(e.reserva==null?null:e.reserva.estado)!=="Pendiente"||!e.permisosAll)("ngModel",e.fechaReserva),l(5),d("disabled",(e.reserva==null?null:e.reserva.estado)!=="Pendiente"||!e.permisosAll)("ngModel",e.fechaEntrega),l(),d("disabled",(e.reserva==null?null:e.reserva.estado)!=="Pendiente"||!e.permisosAll)("ngModel",e.horaEntrega),l(),d("appPermisos",e.permiso_escritura),l(5),d("ngIf",!e.showActualizarUsuarioGenerador),l(),d("appPermisos",e.permiso_escritura),l(),d("ngIf",e.showActualizarUsuarioGenerador),l(9),x(" ",e.reserva==null?null:e.reserva.cliente.descripcion," "),l(2),P(" ",e.reserva==null?null:e.reserva.cliente.tipo_identificacion," ",e.reserva==null?null:e.reserva.cliente.identificacion," "),l(),d("ngIf",e.reserva==null?null:e.reserva.cliente.telefono),l(9),x(" $",y(57,28,e.reserva==null?null:e.reserva.precioTotal)," "),l(6),x(" $",y(63,30,e.reserva==null?null:e.reserva.adelanto)," "),l(6),x(" $",y(69,32,(e.reserva==null?null:e.reserva.precioTotal)-(e.reserva==null?null:e.reserva.adelanto))," "),l(3),d("ngIf",e.reserva==null?null:e.reserva.ventasReservas[0]),l(),d("ngIf",e.reserva==null?null:e.reserva.ventasReservas[1]),l(6),d("ngForOf",e.reserva==null?null:e.reserva.reservasProductos),l(5),d("appPermisos",e.permiso_escritura),l(),d("ngIf",e.reserva.tipoObservacion==="General"&&e.reserva.observaciones.trim()!==""),l(),d("ngIf",e.reserva.tipoObservacion==="General"&&e.reserva.observaciones.trim()===""),l(),d("ngIf",e.reserva.tipoObservacion==="Torta")}}function it(n,p){}var rt=Q.base_url,Et=(()=>{let p=class p{constructor(s,r,a,h,C,k,R,T){this.authService=s,this.reservasService=r,this.ventasService=a,this.ventasReservasService=h,this.dataService=C,this.activatedRoute=k,this.router=R,this.alertService=T,this.permiso_escritura=["LISTADO_RESERVAS_ALL"],this.permisosAll=!1,this.showActualizarHorasAntes=!1,this.showActualizarUsuarioGenerador=!1,this.showActualizarObservaciones=!1,this.showModalCompletar=!1,this.fechaReserva="",this.fechaEntrega="",this.horaEntrega="",this.horasAntes="",this.reserva=null,this.usuarioGenerador="",this.tipoObservacion="General",this.observaciones="",this.tortaRelleno1="",this.tortaRelleno2="",this.tortaRelleno3="",this.tortaPeso="",this.tortaForma="",this.tortaDetalles="",this.tortaCobertura="",this.totalPagado=0,this.faltaPagar=0,this.multiplesFormasPago=!1,this.formasPago=[],this.formasPagoArray=D,this.comprobante="Normal",this.imprimirTicket=!0,this.totalBalanza=0,this.totalNoBalanza=0,this.pedidosYaComprobante="",this.adicionalCredito=0,this.valorFormaPago=null,this.formaPago="Efectivo",this.porcentajePorCredito=ve.porcentajePorCredito,this.precioTotalVenta=0,this.precioTotalLimpio=0,this.vuelto=null,this.pagaCon=null}ngOnInit(){this.dataService.ubicacionActual="Dashboard - Detalles de reserva",this.alertService.loading(),this.verificacionPermisosTotales(),this.activatedRoute.params.subscribe(({id:s})=>{this.obtenerReserva(s)})}verificacionPermisosTotales(){this.permisosAll=this.authService.usuario.permisos.includes("LISTADO_RESERVAS_ALL")||this.authService.usuario.role==="ADMIN_ROLE"}obtenerReserva(s){this.reservasService.getReserva(s).subscribe({next:({reserva:r})=>{console.log(r),this.fechaReserva=E(r.fechaReserva,"yyyy-MM-dd"),this.fechaEntrega=E(r.fechaEntrega,"yyyy-MM-dd"),this.horaEntrega=r.horaEntrega,this.horasAntes=r.horasAntes,this.reserva=r,this.alertService.close()},error:({error:r})=>{this.alertService.errorApi(r.message)}})}actualizarFechaReserva(){if(!this.fechaReserva){this.alertService.info("Debe colocar una fecha de reserva v\xE0lida");return}this.alertService.question({msg:"\xBFQuieres actualizar la fecha de reserva?",buttonText:"Aceptar"}).then(({isConfirmed:s})=>{s?(this.alertService.loading(),this.reservasService.actualizarReserva(this.reserva.id,{fechaReserva:this.fechaReserva}).subscribe({next:()=>{this.alertService.success("Fecha de reserva actualizada!")},error:({error:r})=>{this.fechaReserva=E(this.reserva.fechaReserva,"yyyy-MM-dd"),this.alertService.errorApi(r.message)}})):this.fechaReserva=E(this.reserva.fechaReserva,"yyyy-MM-dd")})}abrirActualizarUsuarioGenerador(){this.showActualizarUsuarioGenerador=!0,this.usuarioGenerador=this.reserva.usuarioCreador}abrirActualizarObservaciones(){this.showActualizarObservaciones=!0,this.tipoObservacion=this.reserva.tipoObservacion,this.observaciones=this.reserva.observaciones,this.tortaRelleno1=this.reserva.tortaRelleno1,this.tortaRelleno2=this.reserva.tortaRelleno2,this.tortaRelleno3=this.reserva.tortaRelleno3,this.tortaPeso=this.reserva.tortaPeso===0?null:this.reserva.tortaPeso,this.tortaForma=this.reserva.tortaForma,this.tortaDetalles=this.reserva.tortaDetalles,this.tortaCobertura=this.reserva.tortaCobertura}actualizarUsuarioGenerador(){if(this.usuarioGenerador===""){this.alertService.info("Debe colocar un usuario generador");return}this.alertService.loading(),this.reservasService.actualizarReserva(this.reserva.id,{usuarioCreador:this.usuarioGenerador}).subscribe({next:({reserva:s})=>{this.alertService.success("Usuario generador actualizado!"),this.reserva.usuarioCreador=s.usuarioCreador,this.showActualizarUsuarioGenerador=!1},error:({error:s})=>this.alertService.errorApi(s.message)})}actualizarObservaciones(){if(this.tipoObservacion==="Torta"&&this.tortaRelleno1.trim()==="")return this.alertService.info("Debe colocar el primer relleno de la torta");if(this.tipoObservacion==="Torta"&&this.tortaForma.trim()==="")return this.alertService.info("Debe colocar la forma de la torta");if(this.tipoObservacion==="Torta"&&!this.tortaPeso)return this.alertService.info("Debe colocar el peso de la torta");if(this.tipoObservacion==="Torta"&&!this.tortaCobertura)return this.alertService.info("Debe colocar la cobertura de la torta");this.alertService.loading(),this.reservasService.actualizarReserva(this.reserva.id,{observaciones:this.observaciones,tipoObservacion:this.tipoObservacion,tortaRelleno1:this.tipoObservacion==="Torta"?this.tortaRelleno1:"",tortaRelleno2:this.tipoObservacion==="Torta"?this.tortaRelleno2:"",tortaRelleno3:this.tipoObservacion==="Torta"?this.tortaRelleno3:"",tortaPeso:this.tipoObservacion==="Torta"?this.tortaPeso:0,tortaForma:this.tipoObservacion==="Torta"?this.tortaForma:"",tortaCobertura:this.tipoObservacion==="Torta"?this.tortaCobertura:"",tortaDetalles:this.tipoObservacion==="Torta"?this.tortaDetalles:""}).subscribe({next:({reserva:s})=>{this.alertService.success("Observaciones actualizadas!"),this.reserva.tipoObservacion=s.tipoObservacion,this.reserva.observaciones=s.observaciones,this.reserva.tortaRelleno1=s.tortaRelleno1,this.reserva.tortaRelleno2=s.tortaRelleno2,this.reserva.tortaRelleno3=s.tortaRelleno3,this.reserva.tortaPeso=s.tortaPeso,this.reserva.tortaForma=s.tortaForma,this.reserva.tortaCobertura=s.tortaCobertura,this.reserva.tortaDetalles=s.tortaDetalles,this.showActualizarObservaciones=!1},error:({error:s})=>this.alertService.errorApi(s.message)})}cambiarFormaPago(){this.multiplesFormasPago||this.calcularPrecioFinal()}cambiarImprimirTicket(){this.imprimirTicket=!this.imprimirTicket}calcularPrecioFinal(){this.precioTotalVenta=this.reserva.precioTotal-this.reserva.adelanto,this.precioTotalLimpio=this.reserva.precioTotal-this.reserva.adelanto,this.totalBalanza=0,this.totalNoBalanza=0,this.adicionalCredito=0,this.formaPago==="Credito"&&!this.multiplesFormasPago&&(this.adicionalCredito=this.precioTotalVenta*(this.porcentajePorCredito/100),this.precioTotalVenta+=this.adicionalCredito),this.precioTotalVenta=Math.round(this.precioTotalVenta*100)/100,this.precioTotalLimpio=Math.round(this.precioTotalLimpio*100)/100,this.totalBalanza=Math.round(this.totalBalanza*100)/100,this.totalNoBalanza=Math.round(this.totalNoBalanza*100)/100,this.adicionalCredito=Math.round(this.adicionalCredito*100)/100}agregarFormaPago(){if(this.valorFormaPago<=0){this.alertService.info("Debe colocar un monto valido");return}if(this.formasPago.find(r=>r.descripcion==this.formaPago))return this.alertService.info("La forma de pago ya esta agregada");if(this.totalPagado+=this.valorFormaPago,this.totalPagado>this.precioTotalVenta){this.alertService.info("El total pagado no puede ser mayor al precio final"),this.totalPagado-=this.valorFormaPago;return}this.formasPago.unshift({valor:this.valorFormaPago,descripcion:this.formaPago,creatorUserId:this.authService.usuario.userId}),this.calcularPrecioFinal(),this.calcularFaltaPagar()}cambiarMultiplesFormasPago(){this.formaPago="Efectivo",this.multiplesFormasPago=!this.multiplesFormasPago,this.multiplesFormasPago?this.formasPagoArray=ue:this.formasPagoArray=D,this.valorFormaPago=this.precioTotalLimpio,this.precioTotalVenta=this.precioTotalLimpio,this.faltaPagar=this.precioTotalVenta,this.totalPagado=0,this.formasPago=[]}calcularVuelto(){this.vuelto=this.pagaCon-this.precioTotalVenta,this.vuelto<0&&(this.vuelto=null)}eliminarFormaPago(s){this.formasPago=this.formasPago.filter(r=>r.descripcion!=s),this.totalPagado=0,this.formasPago.forEach(r=>{this.totalPagado+=r.valor}),this.calcularFaltaPagar()}calcularFaltaPagar(){this.faltaPagar=this.precioTotalVenta-this.totalPagado,this.faltaPagar=Math.round(this.faltaPagar*100)/100,this.valorFormaPago=this.faltaPagar}abrirCompletarReserva(){this.showModalCompletar=!0,this.precioTotalVenta=this.reserva.precioTotal-this.reserva.adelanto,this.precioTotalLimpio=this.reserva.precioTotal-this.reserva.adelanto,this.formaPago="Efectivo"}completarReserva(){if((this.formaPago==="PedidosYa - Efectivo"||this.formaPago==="PedidosYa - Online")&&!this.multiplesFormasPago&&this.pedidosYaComprobante===""){this.alertService.info("Debe colocar el nro de comprobante");return}if(this.multiplesFormasPago&&this.precioTotalVenta-this.totalPagado>.1){this.alertService.info("El total pagado debe ser igual al precio final");return}let s=(this.formaPago==="PedidosYa - Efectivo"||this.formaPago==="PedidosYa - Online")&&!this.multiplesFormasPago,r={comprobante:this.comprobante,precioTotal:this.precioTotalVenta,totalAdelantoReserva:0,totalCompletarReserva:this.precioTotalVenta,totalBalanza:0,totalNoBalanza:0,precioTotalLimpio:this.precioTotalLimpio,adicionalCredito:!this.multiplesFormasPago&&this.formaPago==="Credito"?this.adicionalCredito:0,creatorUserId:this.authService.usuario.userId},a=[];this.reserva.reservasProductos.map(R=>{a.push({productoId:R.producto.id,cantidad:R.cantidad,precioUnitario:R.precioUnitario,precioTotal:R.precioTotal,creatorUserId:this.authService.usuario.userId})});let h=[];this.multiplesFormasPago?h=this.formasPago:h=[{valor:this.precioTotalVenta,descripcion:this.formaPago,nroComprobante:s?this.pedidosYaComprobante:"",creatorUserId:this.authService.usuario.userId}];let k={dataVenta:r,dataFacturacion:{puntoVenta:0,tipoComprobante:0,nroComprobante:0},dataFormasPago:h,dataProductos:a,dataOtros:{imprimirTicket:this.imprimirTicket}};this.alertService.question({msg:"\xBFQuieres completar la reserva?",buttonText:"Completar"}).then(({isConfirmed:R})=>{R&&(this.alertService.loading(),this.reservasService.actualizarReserva(this.reserva.id,{estado:"Completada",activo:!1}).subscribe({next:()=>{this.ventasService.nuevaVenta(k).subscribe({next:({venta:T})=>{let fe={ventaId:T.id,reservaId:this.reserva.id,tipo:"Completada",creatorUserId:this.authService.usuario.userId};this.ventasReservasService.nuevaVentaReserva(fe).subscribe({next:()=>{this.router.navigateByUrl("/dashboard/reservas"),this.alertService.close()},error:({error:xe})=>this.alertService.errorApi(xe.message)})},error:({error:T})=>this.alertService.errorApi(T.message)})},error:({error:T})=>this.alertService.errorApi(T.message)}))})}noSeRetiro(){this.alertService.question({msg:"\xBFQuieres dar de baja la reserva?",buttonText:"Aceptar"}).then(({isConfirmed:s})=>{s&&(this.alertService.loading(),this.reservasService.actualizarReserva(this.reserva.id,{estado:"No retirada",activo:!1}).subscribe({next:()=>{this.reserva.estado="No retirada",this.reserva.activo=!1,this.showModalCompletar=!1,this.dataService.alertaReservas(),this.router.navigateByUrl("/dashboard/reservas")},error:({error:r})=>this.alertService.errorApi(r.message)}))})}altaReserva(){this.alertService.question({msg:"\xBFQuieres dar de alta la reserva?",buttonText:"Aceptar"}).then(({isConfirmed:s})=>{s&&(this.alertService.loading(),this.reservasService.actualizarReserva(this.reserva.id,{estado:"Pendiente",activo:!0}).subscribe({next:()=>{this.reserva.estado="Pendiente",this.reserva.activo=!0,this.dataService.alertaReservas(),this.alertService.success("Reserva dada de alta!")},error:({error:r})=>this.alertService.errorApi(r.message)}))})}abrirActualizarDatosAlerta(){this.horasAntes=this.reserva.horasAntes,this.showActualizarHorasAntes=!0}actualizarFechaAlerta(){let s=this.fechaEntrega+":"+this.horaEntrega,r=E(de(new Date(s),{hours:-Number(this.horasAntes)}),"yyyy-MM-dd:HH:mm");this.alertService.question({msg:"\xBFQuieres actualizar la reserva?",buttonText:"Aceptar"}).then(({isConfirmed:a})=>{a?(this.alertService.loading(),this.reservasService.actualizarReserva(this.reserva.id,{fechaEntrega:this.fechaEntrega,horaEntrega:this.horaEntrega,horasAntes:this.horasAntes,fechaAlerta:r}).subscribe({next:()=>{this.dataService.alertaReservas(),this.reserva.horasAntes=this.horasAntes,this.showActualizarHorasAntes=!1,this.alertService.success("Reserva actualizada correctamente!")},error:({error:h})=>{this.fechaEntrega=E(this.reserva.fechaEntrega,"yyyy-MM-dd"),this.horasAntes=this.reserva.horasAntes,this.horaEntrega=this.reserva.horaEntrega,this.showActualizarHorasAntes=!1,this.alertService.errorApi(h.message)}})):(this.fechaEntrega=E(this.reserva.fechaEntrega,"yyyy-MM-dd"),this.horasAntes=this.reserva.horasAntes,this.horaEntrega=this.reserva.horaEntrega,this.showActualizarHorasAntes=!1)})}generarComprobante(){window.open(`${rt}/reservas/generar/comprobante/${this.reserva.id}`,"_blank")}};p.\u0275fac=function(r){return new(r||p)(M(Z),M(oe),M(_e),M(he),M(le),M(U),M(Y),M(ne))},p.\u0275cmp=A({type:p,selectors:[["app-reservas-detalles"]],standalone:!0,features:[O],decls:111,vars:31,consts:[[3,"showModal"],[1,"bg-gray-800","p-2","text-white","flex","items-center","justify-between"],[1,"ml-2","hover:text-secondaryColor",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18 18 6M6 6l12 12"],[1,"bg-white","p-2","text-sm"],[1,"text-center","font-semibold"],[1,"input-generico","w-full","mt-2",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],[1,"boton-editar","w-full","mt-2",3,"click"],[1,"p-2","text-sm","max-h-96","overflow-y-auto"],[1,"font-semibold"],[1,"input-generico","w-full","md:w-52","mt-2",3,"ngModel","ngModelChange"],["value","General"],["value","Torta"],["class","mt-2",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"mt-1"],["class","font-semibold",4,"ngIf"],["placeholder","Puede colocar una observaci\xF3n aqu\xED (No saldra en el comprobante)",1,"input-generico","w-full","mt-2",3,"ngModel","ngModelChange"],[1,"px-2","pb-2"],[1,"boton-editar","w-full",3,"click"],[1,"flex","items-center","justify-between","bg-gray-800","rounded-t","p-2"],[1,"flex","items-center"],["title","Regresar a datos de reserva",1,"text-white","hover:text-secondaryColor",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"],[1,"text-white","px-2","py-1","rounded-t","text-lg"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"cursor-pointer","feather","feather-x","text-white","mr-2",3,"click"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"text-sm"],[1,"text-xs","md:text-sm","flex","bg-gray-100","items-center","border-b","border-gray-400","justify-between","px-3","py-3"],[1,"border","p-2","border-gray-400","bg-white"],[1,"bg-purple-100","p-2","border","border-secondaryColor"],[1,"max-h-96","overflow-y-auto"],[1,"p-2"],[1,"input-generico","w-1/2","mt-2",3,"ngModel","ngModelChange"],["value","Normal"],["value","Facturacion"],["title","Proximo numero de factura","class","p-2 border hover:text-secondaryColor border-gray-400 rounded mt-2 ml-2",4,"ngIf"],["class","px-2 py-1 shadow bg-gray-50 mt-2 flex items-center border border-gray-400 rounded",3,"click",4,"ngIf"],[1,"px-2","mt-1","text-sm"],["placeholder","Paga con...","type","text",1,"input-generico","w-1/2",3,"ngModel","keyup","ngModelChange"],[1,"w-1/2","bg-gray-100","border","border-gray-400","p-2","m-2","text-center"],[1,"flex","items-center","justify-between"],[1,"font-semibold","w-1/2"],[1,"md:flex","md:items-center","mt-2"],[1,"input-generico","w-full","md:w-1/2",3,"ngModel","change","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","md:ml-2 mt-2 md:mt-0 w-full md:w-1/2",4,"ngIf"],["class","md:w-1/2 w-full p-2 border border-gray-400 rounded md:ml-2 mt-2 md:mt-0 hover:text-secondaryColor",3,"click",4,"ngIf"],["class","flex items-center",4,"ngIf"],[1,"p-2","mt-2","flex","items-center"],[1,"boton-eliminar","w-1/2",3,"click"],[1,"boton-crear","w-1/2","ml-2",3,"click"],["class","w-11/12 md:w-1/2 mt-4 mb-10 mx-auto border border-gray-400"],[1,"mt-2"],[1,"md:flex","md:items-center"],[1,"w-full","md:w-1/2"],[1,"text-red-700"],["type","text","placeholder","Ej. Chocolate",1,"input-generico","w-full","mt-2",3,"ngModel","keyup.enter","ngModelChange"],[1,"w-full","md:w-1/2","md:ml-2","mt-2","md:mt-0"],["type","text","placeholder","Ej. Vainilla",1,"input-generico","w-full","mt-2",3,"ngModel","keyup.enter","ngModelChange"],[1,"md:flex","md:items-center","mt-3"],["type","text","placeholder","Ej. Frutilla",1,"input-generico","w-full","mt-2",3,"ngModel","keyup.enter","ngModelChange"],["type","text","placeholder","Ej. Redonda",1,"input-generico","w-full","mt-2",3,"ngModel","keyup.enter","ngModelChange"],[1,"md:flex","md:items-center","mt-2","md:mt-3"],[1,"md:w-1/2","w-full"],["type","number","placeholder","Ej. 1.5",1,"input-generico","w-full","mt-2",3,"ngModel","keyup.enter","ngModelChange"],[1,"md:w-1/2","md:ml-2","w-full","mt-2","md:mt-0"],[1,"mt-3"],["placeholder","Otros detalles de la torta",1,"input-generico","w-full","mt-2",3,"ngModel","ngModelChange"],["title","Proximo numero de factura",1,"p-2","border","hover:text-secondaryColor","border-gray-400","rounded","mt-2","ml-2"],["stroke-linecap","round","stroke-linejoin","round","d","M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v16.5c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Zm3.75 11.625a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"],[1,"px-2","py-1","shadow","bg-gray-50","mt-2","flex","items-center","border","border-gray-400","rounded",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-4","h-4","text-green-700","font-semibold"],["stroke-linecap","round","stroke-linejoin","round","d","m4.5 12.75 6 6 9-13.5"],[1,"text-xs"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-4","h-4","text-red-700","font-semibold"],[3,"value"],[1,"md:ml-2","mt-2","md:mt-0","w-full","md:w-1/2"],["placeholder","Nro comprobante pedidosYa","type","text",1,"input-generico","w-full",3,"ngModel","ngModelChange"],[1,"md:w-1/2","w-full","p-2","border","border-gray-400","rounded","md:ml-2","mt-2","md:mt-0","hover:text-secondaryColor",3,"click"],["placeholder","Ej. 1000","type","number","min","0",1,"input-generico","w-full","mt-2","md:mt-0","md:ml-2",3,"ngModel","keyup.enter","ngModelChange"],["title","Agregar forma de pago",1,"boton-crear","ml-2","mt-2","md:mt-0",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M12 4.5v15m7.5-7.5h-15"],["title","Regresar a forma unica",1,"boton-eliminar","ml-2","mt-2","md:mt-0",3,"click"],[1,"bg-gray-100","border","border-gray-400","p-2"],[1,"flex","items-center","p-2","justify-between","border-b","border-gray-400"],[1,"w-1/3"],["title","Quitar forma de pago",1,"boton-eliminar",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"],[1,"p-2","bg-gray-50","italic","text-xs","border","border-t-0","border-gray-400","text-center","text-gray-600"],["class","flex items-center p-2 justify-between border-b border-gray-400"],[1,"w-11/12","md:w-1/2","mt-4","mb-10","mx-auto","border","border-gray-400"],[1,"bg-gray-900","p-3","flex","items-center","justify-between"],["routerLink","/dashboard/reservas","title","Regresar",1,"hover:text-secondaryColor","text-white"],[1,"ml-2"],[1,"text-white","md:text-xl"],[1,"py-1","px-2","rounded","text-xs","w-max",3,"ngClass"],["title","Imprimir comprobante",1,"p-2","bg-white","hover:text-secondaryColor","rounded",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"],[4,"appPermisos"],[1,"text-sm","p-2"],[1,"md:flex","md:items-center","md:justify-between"],[1,"px-2","py-2","text-center"],["onkeydown","return false","type","date",1,"input-generico","text-center","mt-2","w-full",3,"disabled","ngModel","ngModelChange","change"],[1,"mr-4","text-center","mt-2"],[1,"font-semibold","mb-2"],[1,"flex","items-center","mt-2","md:mt-0"],["onkeydown","return false","type","date",1,"input-generico","text-center",3,"disabled","ngModel","change","ngModelChange"],["onkeydown","return false","type","time",1,"input-generico","ml-2","text-center",3,"disabled","ngModel","change","ngModelChange"],["title","Datos de alarma","class","p-2 border border-gray-400 rounded ml-2",3,"ngClass","click",4,"appPermisos"],[1,"mx-2","mt-2","text-center","md:text-left"],["class","bg-gray-100 py-2 px-4 md:w-max w-full mt-2 border border-gray-400",4,"ngIf"],["class","flex items-center mt-2",4,"ngIf"],[1,"mb-2","mt-4"],[1,"p-2","font-semibold","bg-gray-100","border","border-gray-400","w-full"],[1,"flex","mt-4","w-max","items-center"],["src","assets/svg/cliente.svg",1,"w-14"],[1,"ml-2","mt-1"],[1,"text-xs","text-gray-500"],["class","text-xs text-gray-500",4,"ngIf"],[1,"md:flex","md:items-center","md:justify-between","mt-4","md:mx-2"],[1,"text-center"],[1,"mt-2","p-2","bg-gray-100","text-center","w-full","md:w-40","border","border-gray-400"],[1,"text-center","mt-2","md:mt-0"],[1,"mt-2","p-2","bg-green-100","text-center","w-full","md:w-40","border","border-green-700"],[1,"text-center","mt-2"],[1,"mt-2","p-2","bg-red-100","text-center","w-full","md:w-40","border","border-red-700"],[1,"mt-4"],["class","flex items-center w-full border-t border-b py-2",4,"ngIf"],["class","flex items-center w-full border-b py-2",4,"ngIf"],[1,"bg-gray-100","p-2","border","flex","items-center","justify-between","border-gray-400","w-full"],[1,"max-h-52","overflow-y-auto"],["class","border flex items-center justify-between border-gray-400 p-2 my-2",4,"ngFor","ngForOf"],[4,"ngIf"],["title","Completar","class","p-2 bg-white hover:text-green-600 rounded mx-2",3,"click",4,"ngIf"],["title","Dar de alta","class","p-2 bg-white hover:text-yellow-600 rounded mx-2",3,"click",4,"ngIf"],["title","Completar",1,"p-2","bg-white","hover:text-green-600","rounded","mx-2",3,"click"],["title","Dar de alta",1,"p-2","bg-white","hover:text-yellow-600","rounded","mx-2",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"],["title","Datos de alarma",1,"p-2","border","border-gray-400","rounded","ml-2",3,"ngClass","click"],["viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none",4,"ngIf"],["viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none"],["stroke","#0A0A30","stroke-width","1.5","d","M12 3.398a5 5 0 00-5 5v2c0 .758-.442 1.505-1.005 2.012A3 3 0 008 17.642h8a3 3 0 002.005-5.232C17.442 11.903 17 11.156 17 10.398v-2a5 5 0 00-5-5z"],["stroke","#0A0A30","stroke-linecap","round","stroke-width","1.5","d","M14.39 20.312l-.043.01a9.714 9.714 0 01-4.67-.01"],["fill","#265BFF","d","M14.48 13.918H9.676l2.648-3.642H9.677v-.911h4.802l-2.639 3.641h2.64v.912z",2,"animation","n-snooze 1.5s cubic-bezier(.165,.84,.44,1) infinite both","transform-origin","center center"],["width","16","height","16","x","4","y","4","stroke","#0A0A30","stroke-width","1.5","rx","8"],["stroke","#0A0A30","stroke-linecap","round","stroke-width","1.5","d","M12.021 12l2.325 2.325"],["stroke","#265BFF","stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M12.021 12V6.84",2,"animation","rotate 2s linear infinite both","transform-origin","center"],[1,"bg-gray-100","py-2","px-4","md:w-max","w-full","mt-2","border","border-gray-400"],["title","Actualizar usuario generador","class","boton-editar mt-2 ml-2",3,"click",4,"ngIf"],["title","Actualizar usuario generador",1,"boton-editar","mt-2","ml-2",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"],[1,"flex","items-center","mt-2"],["placeholder","Ej. Moreno Lucas Omar","type","text",1,"input-generico","md:w-60","mr-2",3,"ngModel","keyup.enter","ngModelChange"],["title","Actualizar usuario generador",1,"boton-crear",3,"click"],["title","Cancelar",1,"boton-eliminar","ml-2",3,"click"],[1,"flex","items-center","w-full","border-t","border-b","py-2"],[1,"p-2","bg-yellow-100","text-yellow-700","border","border-yellow-400","rounded-full"],["stroke-linecap","round","stroke-linejoin","round","d","M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"font-semibold","italic"],[1,"flex","items-center","w-full","border-b","py-2"],[1,"p-2","bg-green-100","text-green-700","border","border-green-400","rounded-full"],[1,"border","flex","items-center","justify-between","border-gray-400","p-2","my-2"],["src","assets/svg/producto.svg","alt","Producto.svg",1,"w-16"],[1,"ml-3"],[1,"font-semibold","text-xs","md:text-sm"],[1,"text-gray-600","text-xs"],["title","Actualizar observaciones","class","bg-white p-2 rounded border border-gray-400 hover:text-secondaryColor",3,"click",4,"ngIf"],["title","Actualizar observaciones",1,"bg-white","p-2","rounded","border","border-gray-400","hover:text-secondaryColor",3,"click"],[1,"w-full","bg-gray-50","border","border-gray-400","p-2"],[1,"w-full","bg-gray-50","border","border-gray-400","p-2","italic"],[1,"md:p-2","mt-2"],[1,"md:w-1/2"],[1,"text-red-500"],["disabled","","type","text","placeholder","Ej. Chocolate",1,"input-generico","w-full","mt-2",3,"ngModel","ngModelChange"],[1,"md:ml-2","md:w-1/2","mt-2","md:mt-0"],["disabled","","type","text","placeholder","Ej. Vainilla",1,"input-generico","w-full","mt-2",3,"ngModel","ngModelChange"],[1,"md:p-2","mt-2","md:mt-1"],["disabled","","type","text","placeholder","Ej. Frutilla",1,"input-generico","w-full","mt-2",3,"ngModel","ngModelChange"],["disabled","","type","text","placeholder","Ej. Redonda",1,"input-generico","w-full","mt-2",3,"ngModel","ngModelChange"],[1,"md:p-2","md:mt-1","mt-2"],["disabled","","type","number","placeholder","Ej. 1.5",1,"input-generico","w-full","mt-2",3,"ngModel","ngModelChange"],[1,"md:ml-2","md:w-1/2","mt-2"],[1,"md:p-2","mt-2","md:mt-0"],["disabled","","placeholder","Otros detalles de la torta",1,"input-generico","w-full","mt-2",3,"ngModel","ngModelChange"],[1,"md:px-2"],["disabled","","placeholder","Puede colocar una observaci\xF3n aqu\xED (No saldra en el comprobante)",1,"input-generico","w-full","mt-2",3,"ngModel","ngModelChange"]],template:function(r,a){r&1&&(t(0,"app-modal",0)(1,"div")(2,"div",1)(3,"p"),o(4," Datos de alerta "),i(),t(5,"button",2),m("click",function(){return a.showActualizarHorasAntes=!1}),g(),t(6,"svg",3),_(7,"path",4),i()()(),w(),t(8,"div",5)(9,"p",6),o(10," La alerta se activar\xE1 "),i(),t(11,"select",7),m("ngModelChange",function(C){return a.horasAntes=C}),t(12,"option",8),o(13,"1 hora antes"),i(),t(14,"option",9),o(15,"2 hora antes"),i(),t(16,"option",10),o(17,"3 hora antes"),i(),t(18,"option",11),o(19,"4 hora antes"),i(),t(20,"option",12),o(21,"5 hora antes"),i()(),t(22,"button",13),m("click",function(){return a.actualizarFechaAlerta()}),o(23," Actualizar datos "),i()()()(),o(24,`
\\`),t(25,"app-modal",0)(26,"div",1)(27,"p"),o(28," Actualizando observaciones "),i(),t(29,"button",2),m("click",function(){return a.showActualizarObservaciones=!1}),g(),t(30,"svg",3),_(31,"path",4),i()()(),w(),t(32,"div",14)(33,"div")(34,"p",15),o(35," Tipo de observaci\xF3n "),i(),t(36,"select",16),m("ngModelChange",function(C){return a.tipoObservacion=C}),t(37,"option",17),o(38," General "),i(),t(39,"option",18),o(40," Torta "),i()()(),f(41,be,36,6,"div",19)(42,Ce,4,1,"div",20),t(43,"div",21),f(44,we,2,0,"p",22),t(45,"textarea",23),m("ngModelChange",function(C){return a.observaciones=C}),i()()(),t(46,"div",24)(47,"button",25),m("click",function(){return a.actualizarObservaciones()}),o(48," Actualizar "),i()()(),t(49,"app-modal",0)(50,"div",26)(51,"div",27)(52,"button",28),m("click",function(){return a.showModalCompletar=!1}),g(),t(53,"svg",3),_(54,"path",29),i()(),w(),t(55,"h1",30),o(56," Completando venta "),i()(),g(),t(57,"svg",31),m("click",function(){return a.showModalCompletar=!1}),_(58,"line",32)(59,"line",33),i()(),w(),t(60,"div",34)(61,"div",35)(62,"p",36)(63,"span",15),o(64," Fecha: "),i(),o(65),S(66,"fecha"),i(),t(67,"p",37)(68,"span",15),o(69," Precio total: "),i(),o(70),S(71,"moneda"),i()(),t(72,"div",38)(73,"div",39)(74,"p",15),o(75," Tipo de venta "),i(),t(76,"div",27)(77,"select",40),m("ngModelChange",function(C){return a.comprobante=C}),t(78,"option",41),o(79," Normal "),i(),t(80,"option",42),o(81," Guia de despacho "),i()(),f(82,Se,3,0,"button",43),i(),f(83,ye,5,0,"button",44)(84,Me,5,0,"button",44),i(),t(85,"div",45)(86,"p",15),o(87," Calculador de vuelto "),i(),t(88,"div",27)(89,"input",46),m("keyup",function(){return a.calcularVuelto()})("ngModelChange",function(C){return a.pagaCon=C}),i(),t(90,"div",47),o(91),S(92,"moneda"),i()()(),t(93,"div",45)(94,"div",48)(95,"p",49),o(96),i()(),t(97,"div",50)(98,"select",51),m("change",function(){return a.cambiarFormaPago()})("ngModelChange",function(C){return a.formaPago=C}),f(99,Re,2,2,"option",52),i(),f(100,Ee,2,1,"div",53)(101,Te,2,0,"button",54)(102,Ve,8,1,"div",55),i(),f(103,Ae,7,1,"div",20),i()(),t(104,"div",56)(105,"button",57),m("click",function(){return a.noSeRetiro()}),o(106," No se retir\xF3 "),i(),t(107,"button",58),m("click",function(){return a.completarReserva()}),o(108," Completar reserva "),i()()()(),f(109,tt,87,38,"div",59)(110,it,0,0)),r&2&&(d("showModal",a.showActualizarHorasAntes),l(11),d("ngModel",a.horasAntes),l(14),d("showModal",a.showActualizarObservaciones),l(11),d("ngModel",a.tipoObservacion),l(5),d("ngIf",a.tipoObservacion==="Torta"),l(),d("ngIf",a.tipoObservacion==="Torta"),l(2),d("ngIf",a.tipoObservacion==="Torta"),l(),d("ngModel",a.observaciones),l(4),d("showModal",a.showModalCompletar),l(16),x(" ",y(66,25,a.reserva==null?null:a.reserva.fechaReserva)," "),l(5),x(" $",y(71,27,a.precioTotalVenta)," "),l(7),d("ngModel",a.comprobante),l(5),d("ngIf",a.comprobante==="Facturacion"),l(),d("ngIf",a.imprimirTicket),l(),d("ngIf",!a.imprimirTicket),l(5),d("ngModel",a.pagaCon),l(2),x(" ",a.vuelto?"$"+y(92,29,a.vuelto):"Monto a devolver"," "),l(5),x(" ",a.multiplesFormasPago?"Multiples formas de pago":"Forma de pago"," "),l(2),d("ngModel",a.formaPago),l(),d("ngForOf",a.formasPagoArray),l(),d("ngIf",a.formaPago==="PedidosYa - Efectivo"||a.formaPago==="PedidosYa - Online"),l(),d("ngIf",!a.multiplesFormasPago&&a.formaPago!=="PedidosYa - Efectivo"&&a.formaPago!=="PedidosYa - Online"),l(),d("ngIf",a.multiplesFormasPago),l(),d("ngIf",a.multiplesFormasPago),l(6),F(109,a.reserva?109:110))},dependencies:[H,L,N,B,ae,te,ie,J,X,ee,K,re,W,ce,pe,me,q,$,ge,se],encapsulation:2});let n=p;return n})();export{Et as default};
