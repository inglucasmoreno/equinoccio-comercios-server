import{a as I}from"./chunk-22XSY4EJ.js";import{a as _,b as f,c as E,d as F,f as G,h as L,i as T,n as N,p as j}from"./chunk-B2HCO65P.js";import{a as q}from"./chunk-BPTFILPP.js";import{a as A}from"./chunk-VSPTT5AX.js";import{e as S,g as C,p as w,v as k}from"./chunk-BJBUZF5B.js";import{$a as m,Bb as y,Ra as a,Sa as d,ba as v,cb as c,gb as r,hb as n,ib as x,pb as b,qb as p,ub as i,wb as g}from"./chunk-GQGQXF3A.js";function M(t,o){t&1&&(r(0,"h2",19),i(1," Ingreso al sistema "),n())}function O(t,o){if(t&1&&(r(0,"h2",19),i(1),n()),t&2){let s=p();a(),g(" ",s.configGeneral.nombreEmpresa," ")}}function R(t,o){if(t&1&&(r(0,"p",20),i(1),n()),t&2){let s=p();a(),g(" ",s.configGeneral.nombreSucursal," ")}}function U(t,o){t&1&&(r(0,"p",21),i(1," El usuario es obligatorio "),n())}function V(t,o){if(t&1&&(r(0,"p",22),i(1),n()),t&2){let s=p();a(),g(" Debe tener ",s.username==null||s.username.errors==null?null:s.username.errors.minlength.requiredLength," caracteres como minimo ")}}function B(t,o){t&1&&(r(0,"p",21),i(1," La contrase\xF1a es obligatoria "),n())}function Q(t,o){if(t&1&&(r(0,"p",22),i(1),n()),t&2){let s=p();a(),g(" Debe tener ",s.password==null||s.password.errors==null?null:s.password.errors.minlength.requiredLength," caracteres como minimo ")}}var ee=(()=>{let o=class o{get username(){return this.loginForm.get("username")}get password(){return this.loginForm.get("password")}constructor(l,u,e,h,D){this.router=l,this.authService=u,this.alertService=e,this.configGeneralesService=h,this.fb=D,this.configGeneral={nombreEmpresa:"",nombreSucursal:""},this.loginForm=this.fb.group({username:["",[f.required,f.minLength(4)]],password:["",[f.required,f.minLength(4)]]})}ngOnInit(){q.from(".gsap-contenido",{y:100,opacity:0,duration:.2}),this.cargaInicial()}cargaInicial(){this.alertService.loading(),this.configGeneralesService.listarConfigGenerales({}).subscribe({next:({configGeneral:l})=>{l.length>0&&(this.configGeneral=l[0]),this.alertService.close()},error:l=>this.alertService.errorApi(l.message)})}login(){this.loginForm.valid?(this.alertService.loading(),this.authService.login(this.loginForm.value).subscribe({next:()=>{this.alertService.close(),this.router.navigateByUrl("/dashboard/home")},error:({error:l})=>{this.loginForm.reset(),this.alertService.errorApi(l.message)}})):this.loginForm.markAllAsTouched()}};o.\u0275fac=function(u){return new(u||o)(d(w),d(I),d(k),d(A),d(N))},o.\u0275cmp=v({type:o,selectors:[["app-login"]],standalone:!0,features:[y],decls:32,vars:8,consts:[[1,"flex","gsap-contenido","min-h-full","flex-col","justify-center","px-6","py-12","lg:px-8"],[1,"sm:mx-auto","sm:w-full","sm:max-w-sm"],["src","assets/img/Icono.png","alt","Equinoccio Technology",1,"mx-auto","h-16","w-auto"],["class","mt-2 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",4,"ngIf"],[1,"font-semibold","text-center","text-xs","text-secondaryColor"],["class","text-center font-semibold mt-3 border text-sm md:text-md border-gray-300 bg-gray-100 p-2",4,"ngIf"],[1,"mt-4","sm:mx-auto","sm:w-full","sm:max-w-sm"],[1,"space-y-6",3,"formGroup","submit"],["for","username",1,"block","text-sm","font-medium","leading-6","text-gray-900"],[1,"mt-2"],["id","username","type","text","placeholder","Ingrese su usuario","formControlName","username",1,"block","w-full","rounded-md","border-0","p-3","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-400","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-secondaryColor","sm:text-sm","sm:leading-6"],["class","text-error mt-2",4,"ngIf"],["class","text-error text-xs mt-2",4,"ngIf"],[1,"flex","items-center","justify-between"],["for","password",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["id","password","autocomplete","false","placeholder","Ingrese su contrase\xF1a","type","password","formControlName","password",1,"block","w-full","rounded-md","border-0","p-3","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-400","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-secondaryColor","sm:text-sm","sm:leading-6"],["type","submit",1,"flex","w-full","justify-center","rounded-md","bg-secondaryColor","px-3","py-1.5","text-sm","font-semibold","leading-6","text-white","shadow-sm","hover:bg-secondaryColor","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-secondaryColor"],[1,"mt-10","text-center","text-sm","text-gray-500"],["href","#",1,"font-semibold","leading-6","text-secondaryColor","hover:text-secondaryColor"],[1,"mt-2","text-center","text-2xl","font-bold","leading-9","tracking-tight","text-gray-900"],[1,"text-center","font-semibold","mt-3","border","text-sm","md:text-md","border-gray-300","bg-gray-100","p-2"],[1,"text-error","mt-2"],[1,"text-error","text-xs","mt-2"]],template:function(u,e){u&1&&(r(0,"div",0)(1,"div",1),x(2,"img",2),c(3,M,2,0,"h2",3)(4,O,2,1,"h2",3),r(5,"h3",4),i(6," EQUINOCCIO COMERCIOS "),n(),c(7,R,2,1,"p",5),n(),r(8,"div",6)(9,"form",7),b("submit",function(){return e.login()}),r(10,"div")(11,"label",8),i(12," Usuario "),n(),r(13,"div",9),x(14,"input",10),n(),c(15,U,2,0,"p",11)(16,V,2,1,"p",12),n(),r(17,"div")(18,"div",13)(19,"label",14),i(20," Contrase\xF1a "),n()(),r(21,"div",9),x(22,"input",15),c(23,B,2,0,"p",11)(24,Q,2,1,"p",12),n()(),r(25,"div")(26,"button",16),i(27," Ingresar "),n()()(),r(28,"p",17),i(29," Sistema desarrollado por "),r(30,"a",18),i(31," Equinoccio Technology "),n()()()()),u&2&&(a(3),m("ngIf",e.configGeneral.nombreEmpresa.trim()===""),a(),m("ngIf",e.configGeneral.nombreEmpresa.trim()!==""),a(3),m("ngIf",e.configGeneral.nombreSucursal.trim()!==""),a(2),m("formGroup",e.loginForm),a(6),m("ngIf",e.username.touched&&(e.username==null||e.username.errors==null?null:e.username.errors.required)),a(),m("ngIf",e.username.touched&&(e.username==null||e.username.errors==null?null:e.username.errors.minlength)),a(7),m("ngIf",e.password.touched&&(e.password==null||e.password.errors==null?null:e.password.errors.required)),a(),m("ngIf",e.password.touched&&(e.password==null||e.password.errors==null?null:e.password.errors.minlength)))},dependencies:[j,G,_,E,F,L,T,C,S],encapsulation:2});let t=o;return t})();export{ee as default};
